(function(){"use strict";var t={9375:function(t,e,i){var s=i(144),o=i(998),n=function(){var t=this,e=t._self._c;return e(o.Z,[e("router-view")],1)},a=[],l=(i(7658),i(8345)),r=i(3059),c=function(){var t=this,e=t._self._c;return e(r.Z,[e("router-view")],1)},p=[],u=i(1001),d={},m=(0,u.Z)(d,c,p,!1,null,null,null),h=m.exports,g=i(704),f=i(8762),v=i(4145),_=i(266),k=i(9202),b=i(9223),y=i(5495),Z=i(1713),C=i(3687),x=i(7069),D=function(){var t=this,e=t._self._c;return e(v.Z,{staticClass:"overflow-hidden"},[e(g.Z,{attrs:{color:"#f5efe6",app:"",dense:"",fixed:""},scopedSlots:t._u([{key:"extension",fn:function(){return[e(Z.Z,[e(C.Z),e(b.Z,{staticStyle:{height:"20px"},attrs:{vertical:"",inset:""}}),e(_.Z,[e(f.Z,{staticClass:"my-text my-vertical-line",staticStyle:{width:"100%"},attrs:{to:"/recipe",text:""}},[t._v("레시피 게시판")])],1),e(b.Z,{staticStyle:{height:"20px"},attrs:{vertical:"",inset:""}}),e(_.Z,[e(f.Z,{staticClass:"my-text my-vertical-line",staticStyle:{width:"100%"},attrs:{to:"/photo",text:""}},[t._v("요리 사진 게시판")])],1),e(b.Z,{staticStyle:{height:"20px"},attrs:{vertical:"",inset:""}}),e(_.Z,[e(f.Z,{staticClass:"my-text my-vertical-line",staticStyle:{width:"100%"},attrs:{to:"/mypage",text:""}},[t._v("마이페이지")])],1),e(b.Z,{staticStyle:{height:"20px"},attrs:{vertical:"",inset:""}}),e(C.Z)],1)]},proxy:!0}])},[e(_.Z,{attrs:{offset:"2",cols:"8"}},[e("div",{staticClass:"d-flex justify-space-between align-center",staticStyle:{width:"100%"}},[e(y.Z,{staticClass:"ml-9",attrs:{contain:"","max-width":"40",src:i(8714)}},[e(f.Z,{directives:[{def:x.Z,name:"ripple",rawName:"v-ripple",value:!1,expression:"false"}],attrs:{plain:"","retain-focus-on-click":"",to:"/"}})],1),e(f.Z,{staticClass:"mr-6 my-text",attrs:{text:""},on:{click:t.showDialog}},[t._v("로그아웃")])],1)]),e(C.Z)],1),e(r.Z,[e("router-view")],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:"로그아웃",btnTitle:"취소",btn2Title:"확인"},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v("로그아웃 하시겠습니까?")])]},proxy:!0}])})],1)],1)},w=[],T=i(4886),S=function(){var t=this,e=t._self._c;return e(v.Z,[e(T.EB,{staticClass:"justify-center"},[t._v(" "+t._s(t.headerTitle)+" ")]),e(T.ZB,{staticClass:"text-center"},[t._t("body",(function(){return[t._v(" "+t._s(t.defaultContent)+" ")]}))],2),e(T.h7,{staticClass:"justify-center mr-2 pb-4"},[e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:function(e){return t.$emit("hide")}}},[t._v(" "+t._s(t.btn1Title)+" ")]),t.btn2?[e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:function(e){return t.$emit("submit")}}},[t._v(" "+t._s(t.btn2Title)+" ")])]:t._e()],2)],1)},P=[],I={name:"Popup",data(){return{}},props:{headerTitle:{type:String,default:"제목"},defaultContent:{type:String,default:"내용"},btn1Title:{type:String,default:"닫기"},btn2:{type:Boolean,default:!0},btn2Title:{type:String,default:"확인"}}},B=I,L=(0,u.Z)(B,S,P,!1,null,null,null),R=L.exports,A={components:{PopupDialog:R},data(){return{popupDialog:!1}},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},checkDialog(){this.logout(),this.hideDialog()},logout(){localStorage.removeItem("UserInfo"),qs.push({name:"login"})}}},j=A,q=(0,u.Z)(j,D,w,!1,null,"d541916a",null),N=q.exports,E=i(9111),O=i(9256),F=i(5125),M=i(9258),U=i(9780),z=function(){var t=this,e=t._self._c;return e(O.Z,[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(T.EB,{staticStyle:{"justify-content":"center"}},[t._v("로그인")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(U.Z,{attrs:{label:"id",rules:t.id_rule},model:{value:t.info.id,callback:function(e){t.$set(t.info,"id",e)},expression:"info.id"}})],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(U.Z,{attrs:{label:"password",type:"password",rules:t.pw_rule},model:{value:t.info.pw,callback:function(e){t.$set(t.info,"pw",e)},expression:"info.pw"}})],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"3",offset:"4"}},[e(E.Z,{attrs:{label:"자동 로그인"},model:{value:t.info.al,callback:function(e){t.$set(t.info,"al",e)},expression:"info.al"}})],1)],1),e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"auto"}},[e(f.Z,{on:{click:t.signup}},[t._v("회원가입")])],1),e(_.Z,{attrs:{cols:"2"}},[e(f.Z,{staticStyle:{width:"100%"},on:{click:t.login}},[t._v("login")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:"계정 정보 없음",btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v("아이디 또는 비밀번호를"),e("br"),t._v(" 잘못 입력했습니다.")])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},$=[],J=i(196);const W="https://recippe-sg.herokuapp.com/";var Q={login:function(t){return J.ZP.post(W+"login/",t)},firstcheck:function(t){return J.ZP.post(W+"firstcheck/",t)},secondcheck:function(t){return J.ZP.post(W+"secondcheck/",t)},signup:function(t){return J.ZP.post(W+"signup/",t)},changeNN:function(t){return J.ZP.post(W+"changenickname/",t)},changePW:function(t){return J.ZP.post(W+"changepw/",t)},refrigeratorLookup:function(t){return J.ZP.get(W+"inquiryrefrigerator/"+t+"/")},refrigeratorAdd:function(t){return J.ZP.post(W+"addrefrigerator/",t)},refrigeratorDelete:function(t){return J.ZP.post(W+"deleterefrigerator/",t)},refrigeratorEdit:function(t){return J.ZP.post(W+"updaterefrigerator/",t)},myphotosLookup:function(t){return J.ZP.get(W+"inquirymyphotoposts/"+t+"/")},myrecipesLookup:function(t){return J.ZP.get(W+"inquirymyrecipeposts/"+t+"/")},myrecipesSearch:function(t){return J.ZP.post(W+"querymyrecipeposts/",t)},myrecipesSort:function(t){return J.ZP.post(W+"arrangemyrecipeposts/",t)},mylikeposts:function(t,e){return J.ZP.get(W+"inquirymylikeposts/"+t+"/"+e+"/")},mycommentposts:function(t){return J.ZP.get(W+"inquirymycommentposts/"+t+"/")},recipeList:function(t){return J.ZP.get(W+"recipeboard/"+t+"/")},recipeLookup:function(t,e){return J.ZP.get(W+"recipe/"+t+"/"+e+"/")},recipeAdd:function(t){return J.ZP.post(W+"uploadrecipe/",t)},recipeEdit:function(t){return J.ZP.post(W+"updaterecipe/",t)},recipeDelete:function(t){return J.ZP.post(W+"deleterecipe/",t)},recipeLike:function(t){return J.ZP.post(W+"likerecipe/",t)},recipeUnLike:function(t){return J.ZP.post(W+"likerecipe/",t)},recipeSearch:function(t){return J.ZP.post(W+"queryrecipe/",t)},recipeSort:function(t){return J.ZP.post(W+"sortrecipe/",t)},recipeReport:function(t){return J.ZP.post(W+"reportrecipe/",t)},unExistIngredients:function(t,e){return J.ZP.get(W+"unexistingredients/"+t+"/"+e+"/")},decreaseAmount:function(t,e){return J.ZP.get(W+"decreaseamount/"+t+"/"+e+"/")},photoList:function(t){return J.ZP.get(W+"photoboard/"+t+"/")},photoLookup:function(t,e){return J.ZP.get(W+"photo/"+t+"/"+e+"/")},photoAdd:function(t){return J.ZP.post(W+"uploadphoto/",t)},photoDelete:function(t){return J.ZP["delete"](W+"deletephoto/",{data:t})},photoSort:function(t){return J.ZP.post(W+"sortphoto/",t)},photoLike:function(t){return J.ZP.post(W+"likephoto/",t)},photoUnLike:function(t){return J.ZP.post(W+"likephoto/",t)},photoReport:function(t){return J.ZP.post(W+"reportphoto/",t)},mailList:function(t,e){return J.ZP.get(W+"inquiremaillist/"+t+"/"+e+"/")},mailLookup:function(t){return J.ZP.get(W+"inquiremail/"+t+"/")},mailSend:function(t){return J.ZP.post(W+"insertmail/",t)},mailDelete:function(t){return J.ZP.post(W+"deletemail/",t)},commentAdd:function(t){return J.ZP.post(W+"addcomment/",t)},commentEdit:function(t){return J.ZP.post(W+"updatecomment/",t)},commentDelete:function(t){return J.ZP.post(W+"deletecomment/",t)},commentReport:function(t){return J.ZP.post(W+"reportcomment/",t)}},V={components:{PopupDialog:R},data(){return{valid:!0,popupDialog:!1,snackbar:!1,snackbarContents:"",info:{id:null,pw:null,al:!1},id_rule:[t=>!!t||"아이디를 입력하세요."],pw_rule:[t=>!!t||"비밀번호를 입력하세요."]}},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},checkDialog(){this.hideDialog()},login(){let t=this;const e=this.$refs.form.validate();if(!e)return t.snackbarContents="아이디와 비밀번호를 모두 입력해 주세요.",void(t.snackbar=!0);let i=this.hashing(t.info.pw);const s=JSON.stringify({nickname:null,uid:t.info.id,password:i,email:null,auto_login:t.info.al}),o=t.info.al;Q.login(s).then((function(t){if(200==t.status){const e=JSON.stringify({nickname:t.data.nickname,uid:t.data.uid,password:t.data.password,email:t.data.email,auto_login:o});localStorage.setItem("UserInfo",e),sessionStorage.setItem("running","true"),qs.push({name:"home"})}})).catch((function(e){400==e.response.status?(console.log("400 아이디 또는 비밀번호 불일치"),t.snackbarContents="아이디 또는 비밀번호가 잘못되었습니다.",t.snackbar=!0):500==e.response.status&&(console.log("500 Unknown error"),t.snackbarContents="알 수 없는 이유로 로그인에 실패했습니다.",t.snackbar=!0)}))},signup(){qs.push({path:"/email-auth/0"})},hashing(t){var e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(Number(t.charCodeAt(i))+1);return e}}},K=V,Y=(0,u.Z)(K,z,$,!1,null,null,null),G=Y.exports,H=function(){var t=this,e=t._self._c;return e(O.Z,[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(T.EB,{staticStyle:{"justify-content":"center"}},[t._v("레쉽피 회원가입")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(U.Z,{attrs:{label:"id",rules:t.id_rule},model:{value:t.info.id,callback:function(e){t.$set(t.info,"id",e)},expression:"info.id"}})],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(U.Z,{attrs:{label:"nickname",rules:t.nn_rule},model:{value:t.info.nick,callback:function(e){t.$set(t.info,"nick",e)},expression:"info.nick"}})],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(U.Z,{attrs:{label:"password",type:"password",rules:t.pw_rule},model:{value:t.info.pw,callback:function(e){t.$set(t.info,"pw",e)},expression:"info.pw"}})],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(U.Z,{attrs:{label:"check password",type:"password",rules:t.pwch_rule},model:{value:t.info.pwcheck,callback:function(e){t.$set(t.info,"pwcheck",e)},expression:"info.pwcheck"}})],1)],1),e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"auto"}},[e(f.Z,{attrs:{to:"/login"}},[t._v("돌아가기")])],1),e(_.Z,{attrs:{cols:"2"}},[e(f.Z,{staticStyle:{width:"100%"},on:{click:t.signup}},[t._v("회원가입")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.title,btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.text1)),e("br"),t._v(t._s(t.text2))])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},X=[],tt={components:{PopupDialog:R},data(){return{valid:!0,popupDialog:!1,title:"",text1:"",text2:"",snackbar:!1,snackbarContents:"",info:{email:null,id:null,nick:null,pw:null,pwcheck:null},id_rule:[t=>!!t||"아이디를 입력하세요.",t=>!(t&&t.length<6)||"아이디는 6자 이상이여야 합니다."],nn_rule:[t=>!!t||"닉네임을 입력하세요."],pw_rule:[t=>!!t||"새로운 비밀번호를 입력하세요.",t=>!(t&&t.length<6)||"비밀번호는 6자 이상이여야 합니다.",t=>/^[a-z0-9!?@<>]*$/.test(t)||"비밀번호는 영어 소문자, 숫자, 특수문자(!, ?, @, <, >)만 사용 가능합니다.",t=>/^.*[a-z]+.*$/.test(t)||"비밀번호에는 영어 소문자가 포함되어야 합니다.",t=>/^.*[0-9]+.*$/.test(t)||"비밀번호에는 숫자가 포함되어야 합니다.",t=>/^.*[!?@<>]+.*$/.test(t)||"비밀번호에는 특수문자(!, ?, @, <, >)가 포함되어야 합니다."],pwch_rule:[t=>!!t||"비밀번호 확인을 입력하세요.",t=>t===this.info.pw||"비밀번호가 일치하지 않습니다."]}},created(){this.info.email=localStorage.getItem("email"),console.log("로컬스토리지에서 이메일 받아오기",this.info.email),localStorage.removeItem("email")},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},checkDialog(){this.hideDialog()},signup(){let t=this;const e=this.$refs.form.validate();if(!e)return t.title="양식 오류",t.text1="양식에 맞지않은 입력입니다.",void t.showDialog();let i=this.hashing(t.info.pw);const s=JSON.stringify({nickname:this.info.nick,uid:this.info.id,password:i,email:this.info.email,auto_login:!1});console.log(s),Q.signup(s).then((function(t){console.log(t),200==t.status&&(console.log("회원가입 성공"),qs.push({name:"login"}))})).catch((function(e){400==e.response.status?(console.log("400 error"),t.snackbarContents="중복된 아이디 입니다.",t.snackbar=!0):401==e.response.status?(console.log("401 error"),t.snackbarContents="중복된 닉네임 입니다.",t.snackbar=!0):402==e.response.status?(console.log("402 error"),t.snackbarContents="중복된 아이디, 닉네임 입니다.",t.snackbar=!0):500==e.response.status?(console.log("500 error"),t.title="저장 실패",t.text1="정보 등록에 실패했습니다.",t.text2="재시도 해주십시오.",t.showDialog()):502==e.response.status&&(console.log("502 error"),t.title="저장 실패",t.text1="정보 등록에 실패했습니다.",t.text2="재시도 해주십시오.",t.showDialog())}))},hashing(t){var e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(Number(t.charCodeAt(i))+1);return e}}},et=tt,it=(0,u.Z)(et,H,X,!1,null,null,null),st=it.exports,ot=i(8789),nt=function(){var t=this,e=t._self._c;return e(O.Z,[e(F.Z,[e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(T.EB,{staticStyle:{"justify-content":"center"}},[t._v("이메일 인증")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(U.Z,{attrs:{label:"이메일을 입력하세요",rules:t.email_rule,required:"",disabled:t.sendCode},model:{value:t.info.email,callback:function(e){t.$set(t.info,"email",e)},expression:"info.email"}})],1)],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"2",offset:"5"}},[e(f.Z,{staticStyle:{width:"100%"},on:{click:function(e){return t.firstcheck()}}},[t._v("코드 전송하기")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"4",offset:"4"}},[e(ot.Z,{attrs:{length:"6",type:"number"},model:{value:t.info.code,callback:function(e){t.$set(t.info,"code",e)},expression:"info.code"}})],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"2",offset:"5"}},[e(f.Z,{staticStyle:{width:"100%"},on:{click:function(e){return t.secondcheck()}}},[t._v("인증하기")])],1)],1),e(Z.Z,[e(_.Z,{attrs:{cols:"6",offset:"3"}},[e(b.Z)],1)],1)],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},at=[],lt={data(){return{valid:!0,info:{email:null,code:""},next:null,snackbar:!1,snackbarContents:"",sendCode:!1,email_rule:[t=>!!t||"인증코드를 받을 이메일을 입력하세요.",t=>/^[a-zA-Z0-9+-_.]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t)||"올바른 이메일을 입력하세요."]}},created(){console.log("route",this.$route.params.id),0==this.$route.params.id?this.next="signup":1==this.$route.params.id&&(this.next="changePassword"),console.log("params 메시지 받은내용",this.next)},methods:{firstcheck(){let t=this;const e=this.$refs.form.validate();if(!e)return t.snackbarContents="잘못된 형식의 입력입니다.",void(t.snackbar=!0);const i=JSON.stringify({email:this.info.email,code:0});console.log(i),JSON.parse(i),Q.firstcheck(i).then((function(e){console.log("firstcheck",e),t.snackbarContents="이메일을 전송했습니다.",t.snackbar=!0,t.sendCode=!0})).catch((function(e){501==e.response.status?(console.log("501 전송실패"),t.snackbarContents="이메일 전송에 실패했습니다.",t.snackbar=!0):404==e.response.status&&(console.log("404 존재하지 않는 이메일"),t.snackbarContents="존재하지 않는 이메일입니다.",t.snackbar=!0)}))},secondcheck(){let t=this;const e=Number(this.info.code),i=JSON.stringify({email:this.info.email,code:e}),s=this.info.email,o=this.next;console.log(i),Q.secondcheck(i).then((function(t){console.log("secondcheck",t),200==t.status&&(console.log("코드 일치",o),"signup"==o&&localStorage.setItem("email",s),qs.push({name:o}))})).catch((function(e){400==e.response.status?(console.log("400 잘못된 코드"),t.snackbarContents="잘못된 인증코드입니다.",t.snackbar=!0):500==e.response.status?(console.log("500 등록 실패"),t.snackbarContents="DB 오류로 등록에 실패했습니다.",t.snackbar=!0):502==e.response.status&&(console.log("502 Unknown error"),t.snackbarContents="알 수 없는 이유로 등록에 실패했습니다.",t.snackbar=!0)}))}}},rt=lt,ct=(0,u.Z)(rt,nt,at,!1,null,null,null),pt=ct.exports,ut=i(4324),dt=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{staticClass:"pa-3",attrs:{"min-height":"400",color:"#f5efe6"}},[e(T.EB,{staticClass:"my-text recommend-recipe-title pa-5"},[t._v(" 추천 레시피 ")]),t._l(t.recipes,(function(i){return e(v.Z,{key:i.title,staticClass:"mx-5 mb-5",attrs:{height:"100",color:"#E8DFCA"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mx-10 py-3",staticStyle:{"font-size":"1.1em","font-weight":"600",color:"#7895B2"}},[t._v(t._s(i.title))]),i%5+1>=1?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i%5+1>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i%5+1>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i%5+1>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i%5+1>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"mx-5",staticStyle:{border:"0.5px solid #7895B2"}}),e("div",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"ml-10 py-3",staticStyle:{color:"#7895B2"}},[e("span",{staticClass:"mr-3"},[t._v(t._s(i.upload_time))]),e("span",[t._v(t._s(i.title))])]),e("div",{staticClass:"mr-6"},[e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(i.like_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"blue"}},[t._v("mdi-comment-processing-outline")]),t._v(" "+t._s(i.comment_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"green"}},[t._v("mdi-eye-outline")]),t._v(" "+t._s(i.views)+" ")],1)])])}))],2),e(v.Z,{staticClass:"pa-3 mt-3 overflow-auto",attrs:{"min-height":"200",color:"#f5efe6"}},[e(T.EB,{staticClass:"my-text recommend-recipe-title pa-5"},[t._v(" 추천 요리 사진 ")]),e("div",{staticClass:"d-flex align-center photo-box"},t._l(t.photo,(function(i){return e("div",{key:i.photo_link,on:{click:function(e){return t.toLookupPhoto(i.post_id)}}},[e(y.Z,{staticClass:"mx-4",attrs:{contain:"","max-width":"300",src:"data:image/jpeg;base64,"+i.photo_link}})],1)})),0)],1)],1)],1)],1)},mt=[],ht={data(){return{photo:[],photoID:null,recipes:[],recipeID:null,total_page:null,pageLength:1}},mounted(){let t=this;Q.recipeList(1).then((function(e){if(console.log("리스트 응답 온거",e),200==e.status){console.log("조회 성공"),t.pageLength=e.data.total_page;for(let i=0;i<5;i++)t.recipes.push(e.data.recipeList[i])}})).catch((function(t){500==t.response.status?console.log("500 DB 오류"):502==t.response.status&&console.log("502 Unknown error")})),Q.photoList(1).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공"),t.pageLength=e.data.total_page,console.log(t.pageLength);for(let i=0;i<5;i++)t.photo.push(e.data.photoList[i]);console.log(t.photo)}})).catch((function(t){500==t.response.status?console.log("500 DB 오류"):502==t.response.status&&console.log("502 Unknown error")}))},methods:{toLookup(t){qs.push({path:"/recipe/lookup/"+t})},toLookupPhoto(t){qs.push({path:"/photo/lookup/"+t})}}},gt=ht,ft=(0,u.Z)(gt,dt,mt,!1,null,"9a6e17ec",null),vt=ft.exports,_t=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},kt=[],bt={},yt=(0,u.Z)(bt,_t,kt,!1,null,null,null),Zt=yt.exports,Ct=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},xt=[],Dt={},wt=(0,u.Z)(Dt,Ct,xt,!1,null,null,null),Tt=wt.exports,St=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},Pt=[],It={},Bt=(0,u.Z)(It,St,Pt,!1,null,null,null),Lt=Bt.exports,Rt=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},At=[],jt={},qt=(0,u.Z)(jt,Rt,At,!1,null,null,null),Nt=qt.exports,Et=i(5372),Ot=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{staticClass:"mb-3",attrs:{"min-height":"100",color:"#f5efe6"}},[e("div",{staticClass:"find-cook flex align-end mb-2"},[e("dropdown",{staticClass:"my-dropdown-toggle my-0 ml-5",attrs:{options:t.search_standard,selected:t.search_object,placeholder:"검색 기준",closeOnOutsideClick:!0},on:{updateOption:t.searchStandardRunOnSelect}}),e(U.Z,{staticClass:"mx-5",attrs:{label:"요리를 검색하세요","hide-details":"auto"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),e(f.Z,{staticClass:"mx-3",attrs:{color:"#E8DFCA"},on:{click:t.beforeSelectKeyword}},[t._v(" 검색 ")])],1),e("div",{staticClass:"black-line mx-3"}),e("div",{staticClass:"category-search-dropdown mt-2 flex-column"},[e(f.Z,{attrs:{color:"#f5efe6",depressed:""},on:{click:t.showCategoryDialog}},[t._v("카테고리 검색")])],1)]),e(v.Z,{attrs:{"min-height":"calc(100vh - 233px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("레시피 게시판")]),e("dropdown",{staticClass:"my-dropdown-toggle",attrs:{options:t.sort_standard,selected:t.sort_object,placeholder:"정렬 기준",closeOnOutsideClick:!0},on:{updateOption:t.sortStandardRunOnSelect}})],1),e(f.Z,{staticClass:"write-icon",attrs:{fab:"",to:"/recipe/create","x-large":"",color:"primary"}},[e(ut.Z,{attrs:{dark:""}},[t._v("mdi-pencil-outline")])],1),t.isSearchExist?t._e():e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-10",staticStyle:{"text-align":"center","font-size":"1.2em"}},[t._v(" 검색된 레시피가 없습니다. ")])])],1),t.isSearchExist?e("div",t._l(t.recipes,(function(i){return e(v.Z,{key:i.post_id,staticClass:"mx-5 mb-5",attrs:{height:"100"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mx-10 py-3",staticStyle:{"font-size":"1.1em","font-weight":"600",color:"#7895B2"}},[t._v(t._s(i.title))]),i.degree_of_spicy>=1?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"mx-5",staticStyle:{border:"0.5px solid #7895B2"}}),e("div",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"ml-10 py-3",staticStyle:{color:"#7895B2"}},[e("span",{staticClass:"mr-3"},[t._v(t._s(i.show_upload_time))]),e("span",[t._v(t._s(i.nickname))])]),e("div",{staticClass:"mr-6"},[e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(i.like_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"blue"}},[t._v("mdi-comment-processing-outline")]),t._v(" "+t._s(i.comment_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"green"}},[t._v("mdi-eye-outline")]),t._v(" "+t._s(i.views)+" ")],1)])])})),1):t._e(),e(Et.Z,{staticClass:"pb-10",attrs:{length:t.pageLength},on:{input:t.handlePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.categoryDialog,callback:function(e){t.categoryDialog=e},expression:"categoryDialog"}},[e("category-dialog",{on:{category:t.beforeSelectCategory,hide:t.hideCategoryDialog}})],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},Ft=[],Mt=i(1635),Ut=function(){var t=this,e=t._self._c;return e(v.Z,{staticClass:"overflow-y-auto"},[e(T.EB,{staticClass:"justify-start"},[t._v(" 카테고리 선택 ")]),t._l(t.recippeType,(function(i){return e(v.Z,{key:i.name,on:{click:function(e){return t.clickCategory(i.name)}}},[e(T.EB,[t._v(t._s(i.name))])],1)}))],2)},zt=[],$t={name:"Category",data(){return{recippeType:[{name:"족발보쌈"},{name:"찜탕찌개"},{name:"돈까스"},{name:"회"},{name:"일식"},{name:"피자"},{name:"고기구이"},{name:"야식"},{name:"양식"},{name:"치킨"},{name:"중식"},{name:"아시안"},{name:"백반"},{name:"죽"},{name:"국수"},{name:"도시락"},{name:"분식"},{name:"카페디저트"},{name:"패스트푸드"}]}},methods:{clickCategory(t){this.$emit("category",t),this.$emit("hide")}}},Jt=$t,Wt=(0,u.Z)(Jt,Ut,zt,!1,null,null,null),Qt=Wt.exports,Vt={components:{PopupDialog:R,dropdown:Mt.Z,CategoryDialog:Qt},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,categoryDialog:!1,snackbar:!1,snackbarContents:"",recipes:[],recipeID:null,total_page:null,search_standard:[{name:"요리 이름"},{name:"작성자"}],search_object:{name:"요리 이름"},sort_standard:[{name:"최근 순"},{name:"조회 순"},{name:"좋아요 순"}],sort_object:{name:"최근 순"},currentSearchStandard:"요리 이름",searchText:"",searchTextStorage:"",searchTypeStorage:"",category:"",currentRequestType:"정렬",pageLength:1,page:1,isSearchExist:!0}},mounted(){let t=this;Q.recipeList(1).then((function(e){if(console.log("리스트 응답 온거",e),200==e.status){console.log("조회 성공"),t.pageLength=e.data.total_page;for(let s=0;null!=e.data.recipeList[s];s++){var i=e.data.recipeList[s].upload_time.split(/[T]/);e.data.recipeList[s].show_upload_time=i[0],t.recipes.push(e.data.recipeList[s])}}})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.requestFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="요청 실패",this.content1="레시피 게시글을 요청에 실패했습니다.",this.showDialog()},searchRequestFailPopup(){this.headerTitle="요청 실패",this.content1="검색 결과 요청에 실패했습니다.",this.showDialog()},sortRequestFailPopup(){this.headerTitle="정렬 실패",this.content1="정렬된 게시글 목록을 가져오는데 실패했습니다.",this.showDialog()},showCategoryDialog(){this.categoryDialog=!0},hideCategoryDialog(){this.categoryDialog=!1},beforeSelectCategory(t){let e=this;e.currentRequestType="카테고리",e.category=t,e.selectCategory(t,1)},selectCategory(t,e){let i=this;const s=JSON.stringify({searchType:"카테고리",categories:t,keywordType:null,keyword:null,page:e});i.recipes=[],Q.recipeSearch(s).then((function(t){if(console.log("응답 온거",t),200==t.status){console.log("검색 성공");for(let e=0;null!=t.data.recipeList[e];e++)i.recipes.push(t.data.recipeList[e]);i.pageLength=t.data.total_page,0==t.data.recipeList.length&&(i.isSearchExist=!1)}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.searchRequestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.searchRequestFailPopup())}))},beforeSelectKeyword(){""==this.searchText&&(this.snackbarContents="키워드를 입력해주세요.",this.snackbar=!0),this.searchTextStorage=this.searchText,this.searchTypeStorage=this.search_object.name,this.selectKeyword(1)},selectKeyword(t){let e=this;e.currentRequestType="타이핑";const i=JSON.stringify({searchType:"타이핑",categories:null,keywordType:e.searchTypeStorage,keyword:e.searchTextStorage,page:t});e.recipes=[],console.log(i),Q.recipeSearch(i).then((function(t){if(console.log("응답 온거",t),200==t.status){console.log("검색 성공");for(let i=0;null!=t.data.recipeList[i];i++)e.recipes.push(t.data.recipeList[i]);0==t.data.recipeList.length&&(e.isSearchExist=!1),e.pageLength=t.data.total_page}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),e.searchRequestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),e.searchRequestFailPopup())}))},toLookup(t){qs.push({path:"/recipe/lookup/"+t})},sortRecipeList(t,e){let i=this;i.recipes=[],i.currentRequestType="정렬";const s=JSON.stringify({arrangeBy:e,page:t});Q.recipeSort(s).then((function(t){if(console.log("응답 온거",t),200==t.status){console.log("정렬 성공");for(let e=0;null!=t.data.recipeList[e];e++)i.recipes.push(t.data.recipeList[e]);window.scrollTo({top:0})}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.sortRequestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.sortRequestFailPopup())}))},searchStandardRunOnSelect(t){this.object=t,"요리 이름"==this.object.name?(console.log("요리 이름 선택"),this.search_object.name="요리 이름",this.currentSearchStandard="요리 이름"):"작성자"==this.object.name&&(console.log("작성자 선택"),this.search_object.name="작성자",this.currentSearchStandard="작성자")},sortStandardRunOnSelect(t){this.object=t,"최근 순"==this.object.name?(console.log("최근 순 선택"),this.sort_object.name="최근 순",this.page=1,console.log(this.page,this.sort_object.name),this.sortRecipeList(this.page,this.sort_object.name)):"조회 순"==this.object.name?(console.log("조회 순 선택"),this.sort_object.name="조회수 순",this.page=1,console.log(this.page,this.sort_object.name),this.sortRecipeList(this.page,this.sort_object.name)):"좋아요 순"==this.object.name&&(console.log("좋아요 순 선택"),this.sort_object.name="좋아요 순",this.page=1,console.log(this.page,this.sort_object.name),this.sortRecipeList(this.page,this.sort_object.name))},handlePage(t){let e=this;"정렬"==e.currentRequestType?e.sortRecipeList(t,e.sort_object.name):"카테고리"==e.currentRequestType?e.selectCategory(e.category,t):"타이핑"==e.currentRequestType&&e.selectKeyword(t)}}},Kt=Vt,Yt=(0,u.Z)(Kt,Ot,Ft,!1,null,"8a85232e",null),Gt=Yt.exports,Ht=i(2648),Xt=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"1000",color:"#f5efe6"}},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{text:"",to:"/recipe"}},[t._v(" - 레시피 게시판")]),e(F.Z,{ref:"form",staticClass:"mt-5",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center my-text"},[e("span",{staticClass:"mr-16"},[t._v("레시피 제목")]),e(b.Z,{attrs:{vertical:""}}),e(U.Z,{staticClass:"ml-16",attrs:{name:"name",label:"레시피 제목",id:"id",rules:t.title_rule},model:{value:t.recipeTitle,callback:function(e){t.recipeTitle=e},expression:"recipeTitle"}})],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center my-text"},[e("span",{staticClass:"mr-16"},[t._v("레시피 종류")]),e(b.Z,{attrs:{vertical:""}}),e(f.Z,{staticClass:"ml-14",on:{click:t.showCategoryDialog}},[t._v("카테고리 선택하기")]),e("span",{staticClass:"ml-16"},[t._v("카테고리 : "+t._s(t.recipeCategory))])],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center my-text"},[e("span",{staticClass:"mr-16"},[t._v("매운맛 단계")]),e(b.Z,{attrs:{vertical:""}}),e("dropdown",{staticClass:"my-dropdown-toggle ml-15",attrs:{options:t.hotLevel,selected:t.hotLevelObject,placeholder:"매운맛 단계",closeOnOutsideClick:!0},on:{updateOption:t.methodToRunOnSelect_spicy}})],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex wrap align-center ingredients",staticStyle:{position:"relative"}},[e("span",{staticClass:"ml-1 mr-14 my-text"},[t._v("식재료 및 양")]),e(b.Z,{staticClass:"mr-11",attrs:{vertical:""}}),e("div",{staticClass:"ma-3"},t._l(t.ingredient,(function(i,s){return e("div",{key:i.name},[e("span",{staticClass:"my-text",staticStyle:{"vertical-align":"text-top"}},[t._v(t._s(i.name)+" "+t._s(i.amount)+t._s(i.unit))]),e(f.Z,{attrs:{small:"",text:"",color:"success pa-5"},on:{click:function(e){return t.beforeEdit(i)}}},[e(ut.Z,[t._v("mdi-pencil-outline")])],1),e(f.Z,{attrs:{small:"",text:"",color:"warning pa-5"},on:{click:function(e){return t.ingredient.splice(s,1)}}},[e(ut.Z,[t._v("mdi-close-box")])],1),e("br")],1)})),0),e("div",{staticClass:"d-flex"},[e(f.Z,{staticClass:"add-ingredient",attrs:{color:"success pa-5"},on:{click:t.showAddIngredientDialog}},[e(ut.Z,[t._v("mdi-plus-circle-outline")]),e("span",[t._v("재료 추가하기")])],1)],1)],1),e("div",{staticClass:"line mx-5"}),e(Ht.Z,{staticClass:"mt-5 mx-5",attrs:{outlined:"",name:"name",label:"레시피 설명을 입력하세요",placeholder:"레시피 설명을 입력하세요",height:"300","background-color":"white",rules:t.description_rule},model:{value:t.recipeDescription,callback:function(e){t.recipeDescription=e},expression:"recipeDescription"}})],1),e("div",{staticClass:"d-flex justify-end mr-5 pb-5"},[e(f.Z,{staticClass:"mr-5",attrs:{color:"#AEBDCA"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("등록취소")]),e(f.Z,{staticClass:"mr-2",attrs:{color:"#AEBDCA"},on:{click:function(e){return t.addRecipe()}}},[t._v("등록하기")])],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.categoryDialog,callback:function(e){t.categoryDialog=e},expression:"categoryDialog"}},[e("category-dialog",{on:{category:t.selectCategory,hide:t.hideCategoryDialog}})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.addIngredientDialog,callback:function(e){t.addIngredientDialog=e},expression:"addIngredientDialog"}},[e("add-ingredient-dialog",{attrs:{isRecipe:!0},on:{add:t.add,update:t.update,hide:t.hideAddIngredientDialog}})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.editIngredientDialog,callback:function(e){t.editIngredientDialog=e},expression:"editIngredientDialog"}},[e("edit-ingredient-dialog",{attrs:{isRecipe:!0,idP:t.id,nameP:t.name,amountP:t.amount,unitP:t.unit},on:{edit:t.edit,update:t.update,hide:t.hideEditIngredientDialog}})],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:"생성 실패",btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v("게시글 생성에 실패했습니다.")])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},te=[],ee=i(8360),ie=function(){var t=this,e=t._self._c;return e(v.Z,[e(T.ZB,[e("div",{staticClass:"py-6",staticStyle:{color:"#7895B2","font-size":"2.1em"}},[t._v(" 보유 재료 추가 ")]),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 추가할 재료 선택 ")]),e("div",{staticClass:"searchbox mb-6"},[e("div",{staticClass:"header"},[e(U.Z,{staticClass:"mx-6",attrs:{placeholder:"추가할 재료 입력","hide-details":"auto",id:"inputText"},on:{keyup:t.ingredient_filter},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("div",{staticClass:"ingredient-container mx-6"},t._l(t.ingredients,(function(i){return e("div",{key:i.name},[e("span",{ref:"ingreName",refInFor:!0,staticClass:"ingreName visible",on:{click:t.clickIngredient}},[t._v(t._s(i.name))])])})),0)]),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 수량 ")]),e(U.Z,{staticClass:"mx-6 mb-8",attrs:{placeholder:"수량 입력","hide-details":"auto",id:"inputText"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 단위 ")]),e(U.Z,{staticClass:"mx-6 mb-0",attrs:{placeholder:"단위 입력",id:"inputUnit"},on:{click:t.units_filter}}),e("div",{staticClass:"units-container mx-6"},[t._l(t.units,(function(i){return e("div",{key:i.name},[e("span",{ref:"unitsName",refInFor:!0,staticClass:"unitsName visible",on:{click:t.clickUnit}},[t._v(t._s(i.name))])])})),e("div",{staticClass:"mb-13"})],2),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 유통기한 ")]),e(ee.Z,{attrs:{"show-current":!0,landscape:!0,reactive:!0,color:"#7895B2"},model:{value:t.expiry_date,callback:function(e){t.expiry_date=e},expression:"expiry_date"}}),e("div",{staticClass:"d-flex justify-center"},[e(E.Z,{attrs:{label:"유통기한 선택 안함"},model:{value:t.is_expiry_not_exist,callback:function(e){t.is_expiry_not_exist=e},expression:"is_expiry_not_exist"}})],1)],1),e(T.h7,{staticClass:"justify-center"},[e(f.Z,{attrs:{color:"#7895B2","x-large":""},on:{click:function(e){return t.addIngre()}}},[t._v(" 추가하기 ")])],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},se=[];const oe=i(6943);var ne={name:"addIngredient",data(){return{snackbar:!1,snackbarContents:"",name:"",amount:"",unit:"",expiry_date:null,nickname:"",ingredients:[{name:"가리비"},{name:"갈치"},{name:"감자"},{name:"계란"},{name:"고구마"},{name:"고등어"},{name:"고추"},{name:"고추장"},{name:"국간장"},{name:"굴"},{name:"굴소스"},{name:"김치"},{name:"깨"},{name:"깻잎"},{name:"꼬막"},{name:"꽁치"},{name:"꽃게"},{name:"낙지"},{name:"냉이"},{name:"느타리버섯"},{name:"다시다"},{name:"다시마"},{name:"달래"},{name:"닭고기"},{name:"당근"},{name:"대구"},{name:"대추"},{name:"대파"},{name:"돔베기"},{name:"돼지고기"},{name:"된장"},{name:"두부"},{name:"마늘"},{name:"마늘쫑"},{name:"마요네즈"},{name:"맥주"},{name:"메추리알"},{name:"멸치"},{name:"멸치액젓"},{name:"명이나물"},{name:"명태"},{name:"무"},{name:"문어"},{name:"물"},{name:"미더덕"},{name:"미역"},{name:"밀가루"},{name:"바지락"},{name:"밤"},{name:"버터"},{name:"부추"},{name:"빵"},{name:"상추"},{name:"새송이버섯"},{name:"새우"},{name:"새우젓"},{name:"설탕"},{name:"소고기"},{name:"소금"},{name:"소라"},{name:"소세지"},{name:"순두부"},{name:"시금치"},{name:"시래기"},{name:"쌀"},{name:"아스파라거스"},{name:"애호박"},{name:"양고기"},{name:"양배추"},{name:"양상추"},{name:"양파"},{name:"연어"},{name:"오리고기"},{name:"오징어"},{name:"옥수수"},{name:"우유"},{name:"잼"},{name:"전복"},{name:"진간장"},{name:"쪽파"},{name:"쭈꾸미"},{name:"참기름"},{name:"참나물"},{name:"청양고추"},{name:"청주"},{name:"치즈"},{name:"케챱"},{name:"콩"},{name:"키조개"},{name:"토마토"},{name:"팥"},{name:"팽이버섯"},{name:"표고버섯"},{name:"햄"},{name:"현미"},{name:"호박"},{name:"홍어"},{name:"홍합"},{name:"후추"},{name:"흑미"}],units:[{name:"g"},{name:"kg"},{name:"l"},{name:"ml"},{name:"T"}],unitLabel:"단위 입력",is_expiry_not_exist:!1}},props:{isRecipe:{type:Boolean,default:!1}},mounted(){const t=JSON.parse(localStorage.getItem("UserInfo"));this.nickname=t.nickname;for(var e=0;e<this.ingredients.length;e++)this.$refs.ingreName[e].classList.remove("visible");for(e=0;e<this.units.length;e++)this.$refs.unitsName[e].classList.remove("visible")},methods:{addIngre(){let t=this;if(""==t.name)return t.snackbarContents="이름을 입력해주세요.",void(t.snackbar=!0);if(""==t.amount)return t.snackbarContents="양을 입력해주세요.",void(t.snackbar=!0);if(""==t.unit)return t.snackbarContents="단위를 입력해주세요.",void(t.snackbar=!0);const e=JSON.parse(localStorage.getItem("UserInfo")),i={amount:t.amount,expiry_date:this.is_expiry_not_exist?null:t.expiry_date,name:t.name,nickname:e.nickname,unit:t.unit};1==t.isRecipe&&(t.$emit("hide"),t.$emit("add",i))},ingredient_filter(){var t;t=document.getElementById("inputText").value;for(var e=0;e<this.ingredients.length;e++)0==oe.rangeSearch(this.ingredients[e].name,t).length?this.$refs.ingreName[e].classList.remove("visible"):this.$refs.ingreName[e].classList.add("visible")},clickIngredient(t){console.log(t.srcElement.innerText),document.getElementById("inputText").value=t.srcElement.innerText,this.name=t.srcElement.innerText;for(var e=0;e<this.ingredients.length;e++)this.$refs.ingreName[e].classList.remove("visible")},units_filter(){for(var t=0;t<this.units.length;t++)this.$refs.unitsName[t].classList.add("visible")},clickUnit(t){let e=this;document.getElementById("inputUnit").value=" ",document.getElementById("inputUnit").value=t.srcElement.innerText,e.unit=t.srcElement.innerText;for(var i=0;i<this.units.length;i++)this.$refs.unitsName[i].classList.remove("visible")}}},ae=ne,le=(0,u.Z)(ae,ie,se,!1,null,null,null),re=le.exports,ce=function(){var t=this,e=t._self._c;return e(v.Z,[e(T.ZB,[e("div",{staticClass:"py-6",staticStyle:{color:"#7895B2","font-size":"2.1em"}},[t._v(" 보유 재료 수정 ")]),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 내용 수정 ")]),e("div",{staticClass:"searchbox mb-6"},[e("div",{staticClass:"header"},[e(U.Z,{staticClass:"mx-6",attrs:{disabled:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 수량 ")]),e(U.Z,{staticClass:"mx-6 mb-8",attrs:{placeholder:"수량 입력","hide-details":"auto",id:"inputText"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 단위 ")]),e(U.Z,{staticClass:"mx-6 mb-0",attrs:{placeholder:"단위 입력",id:"inputUnit"},on:{click:t.units_filter},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}}),e("div",{staticClass:"units-container mx-6"},[t._l(t.units,(function(i){return e("div",{key:i.name},[e("span",{ref:"unitsName",refInFor:!0,staticClass:"unitsName visible",on:{click:t.clickUnit}},[t._v(t._s(i.name))])])})),e("div",{staticClass:"mb-13"})],2),e("div",{staticStyle:{color:"#7895B2","font-size":"1.3em"}},[t._v(" 유통기한"),e("br"),e("span",{staticStyle:{"font-size":"0.7em"}},[t._v("달력에서 원래 유통기한을 선택해 주세요.")])]),e(ee.Z,{attrs:{landscape:!0,color:"#7895B2"},model:{value:t.expiry_date,callback:function(e){t.expiry_date=e},expression:"expiry_date"}}),e("div",{staticClass:"d-flex justify-center"},[e(E.Z,{attrs:{label:"유통기한 선택 안함"},model:{value:t.is_expiry_not_exist,callback:function(e){t.is_expiry_not_exist=e},expression:"is_expiry_not_exist"}})],1)],1),e(T.h7,{staticClass:"justify-center"},[e(f.Z,{attrs:{color:"#7895B2","x-large":""},on:{click:function(e){return t.editIngre()}}},[t._v(" 수정하기 ")])],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},pe=[],ue={name:"editIngredient",components:{PopupDialog:R},data(){return{popupDialog:!1,headerTitle:"",content1:"",name:"",amount:"",unit:"",expiry_date:null,nickname:"",units:[{name:"g"},{name:"kg"},{name:"l"},{name:"ml"},{name:"T"}],unitLabel:"단위 입력",is_expiry_not_exist:!1}},props:{isRecipe:{type:Boolean,default:!1},idP:{type:Number},nameP:{type:String},amountP:{type:Number},unitP:{type:String}},watch:{nameP:function(){let t=this;t.name=t.nameP,t.amount=t.amountP,t.unit=t.unitP}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));t.nickname=e.nickname,t.name=t.nameP,t.amount=t.amountP,t.unit=t.unitP;for(var i=0;i<t.units.length;i++)t.$refs.unitsName[i].classList.remove("visible")},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},invalidPopup(){this.headerTitle="유효하지 않음",this.content1="입력 정보가 유효하지 않습니다.",this.showDialog()},editFailPopup(){this.headerTitle="변경 실패",this.content1="재료 변경에 실패하였습니다.",this.showDialog()},editIngre(){let t=this;if(""==t.name)return void t.invalidPopup();if(""==t.amount)return void t.invalidPopup();if(""==t.unit)return void t.invalidPopup();const e={id:t.idP,amount:Number(t.amount),expiry_date:this.is_expiry_not_exist?null:t.expiry_date,name:t.name,unit:t.unit};if(1==t.isRecipe)t.$emit("hide"),t.$emit("edit",e);else{const i=JSON.stringify(e);console.log(i),Q.refrigeratorEdit(i).then((function(e){console.log("response",e),200==e.status&&(console.log("성공 응답",e.data),t.$emit("hide"),t.$emit("update"))})).catch((function(e){406==e.response.status?(console.log("406 수정실패 error"),t.editFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.editFailPopup())}))}},units_filter(){for(var t=0;t<this.units.length;t++)this.$refs.unitsName[t].classList.add("visible")},clickUnit(t){let e=this;document.getElementById("inputUnit").value=" ",document.getElementById("inputUnit").value=t.srcElement.innerText,e.unit=t.srcElement.innerText;for(var i=0;i<this.units.length;i++)this.$refs.unitsName[i].classList.remove("visible")}}},de=ue,me=(0,u.Z)(de,ce,pe,!1,null,null,null),he=me.exports,ge={components:{dropdown:Mt.Z,PopupDialog:R,AddIngredientDialog:re,EditIngredientDialog:he,CategoryDialog:Qt},data(){return{valid:!0,addIngredientDialog:!1,popupDialog:!1,categoryDialog:!1,editIngredientDialog:!1,editIngreID:-1,id:-1,name:"",amount:-1,unit:"",snackbar:!1,snackbarContents:"",ingredient:[],hotLevel:[{name:"0단계"},{name:"1단계"},{name:"2단계"},{name:"3단계"},{name:"4단계"},{name:"5단계"}],hotLevelObject:{name:"0단계"},recipeTitle:null,title_rule:[t=>!!t||"제목을 입력하세요."],recipeCategory:null,recipeSpicy:0,recipeDescription:null,description_rule:[t=>!!t||"내용을 입력하세요."]}},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},showCategoryDialog(){this.categoryDialog=!0},hideCategoryDialog(){this.categoryDialog=!1},selectCategory(t){this.recipeCategory=t},showAddIngredientDialog(){this.addIngredientDialog=!0},hideAddIngredientDialog(){this.addIngredientDialog=!1},add(t){let e=this;const i={id:null,name:t.name,post_id:null,unit:t.unit,amount:t.amount};var s=this.ingredient.findIndex((e=>e.name===t.name));if(-1!=s)return e.snackbarContents="이미 추가한 재료입니다.",void(e.snackbar=!0);this.ingredient.push(i)},showEditIngredientDialog(){this.editIngredientDialog=!0},hideEditIngredientDialog(){this.editIngredientDialog=!1},beforeEdit(t){this.editIngreID=t.id,this.id=t.id,this.name=t.name,this.amount=t.amount,this.unit=t.unit,this.showEditIngredientDialog()},edit(t){var e=this.ingredient.findIndex((t=>t.id===this.editIngreID));this.ingredient[e].amount=t.amount,this.ingredient[e].name=t.name,this.ingredient[e].unit=t.unit},update(){this.$router.go()},addRecipe(){let t=this;const e=this.$refs.form.validate();if(!e)return t.snackbarContents="모든 정보를 입력해주세요 (제목 또는 내용)",void(t.snackbar=!0);if(null==t.recipeCategory)return t.snackbarContents="모든 정보를 입력해주세요 (카테고리)",void(t.snackbar=!0);if(0==t.ingredient.length)return t.snackbarContents="모든 정보를 입력해주세요 (식재료)",void(t.snackbar=!0);const i=JSON.parse(localStorage.getItem("UserInfo")),s=JSON.stringify({post_id:null,nickname:i.nickname,title:t.recipeTitle,category:t.recipeCategory,degree_of_spicy:t.recipeSpicy,description:t.recipeDescription,views:0,like_count:0,comment_count:0,upload_time:null,Recipe_Ingredients:t.ingredient,comments:[]});console.log("연결 정보",s),Q.recipeAdd(s).then((function(t){console.log("전송 정보",s),200==t.status&&(console.log("응답 정보",t.data),qs.push({path:"/recipe"}))})).catch((function(e){500==e.response.status?(console.log("500 DB error"),t.showDialog()):502==e.response.status&&(console.log("502 Unknown error"),t.showDialog())}))},methodToRunOnSelect_category(t){this.object=t,this.recipeCategory=this.object.name},methodToRunOnSelect_spicy(t){this.object=t,"0단계"==this.object.name?this.recipeSpicy=0:"1단계"==this.object.name?this.recipeSpicy=1:"2단계"==this.object.name?this.recipeSpicy=2:"3단계"==this.object.name?this.recipeSpicy=3:"4단계"==this.object.name?this.recipeSpicy=4:"5단계"==this.object.name&&(this.recipeSpicy=5)}}},fe=ge,ve=(0,u.Z)(fe,Xt,te,!1,null,"2ebd92dc",null),_e=ve.exports,ke=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{staticStyle:{position:"relative"},attrs:{"min-height":"1000",color:"#f5efe6"}},[e("div",{staticClass:"d-flex justify-space-between align-end"},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{text:"",to:"/recipe"}},[t._v(" - 레시피 게시판")]),e(f.Z,{staticClass:"mr-5",attrs:{text:""},on:{click:t.menuButtonOnClickMethod}},[e(ut.Z,[t._v("mdi-menu")])],1),e("div",{staticClass:"menu-container mr-5"},[e("div",{staticClass:"mail-btn menu-item",on:{click:t.mailButtonOnClickMethod}},[e("span",[t._v("쪽지")])]),e("div",{staticClass:"report-btn menu-item",on:{click:t.reportButtonOnClickMethod}},[e("span",[t._v("신고")])]),e("div",{staticClass:"edit-btn menu-item",on:{click:t.editButtonOnClickMethod}},[e("span",[t._v("수정")])]),e("div",{staticClass:"delete-btn menu-item",on:{click:t.deleteButtonOnClickMethod}},[e("span",[t._v("삭제")])])])],1),e("div",{staticClass:"mt-5"},[e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center"},[e("span",{staticClass:"my-text ml-11 mr-16 pa-4"},[t._v("레시피 제목")]),e(b.Z,{attrs:{vertical:""}}),e("span",{staticClass:"my-text ml-16 pa-4"},[t._v(t._s(t.requestRecipe.title))])],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center"},[e("span",{staticClass:"my-text ml-11 mr-16 pa-4"},[t._v("레시피 종류")]),e(b.Z,{attrs:{vertical:""}}),e("span",{staticClass:"my-text ml-16 pa-4"},[t._v(t._s(t.requestRecipe.category))])],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center"},[e("span",{staticClass:"my-text ml-11 mr-16 pa-4"},[t._v("매운맛 단계")]),e(b.Z,{staticClass:"mr-3",attrs:{vertical:""}}),t.hotLevel>=1?e(ut.Z,{staticClass:"ml-16",attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex wrap align-center ingredients",staticStyle:{position:"relative"}},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"my-text ml-10 mr-16 pa-4"},[t._v("식재료 및 양")]),1==t.canDecrease?e(f.Z,{staticClass:"ml-10",attrs:{color:"#AEBDCA",small:"",width:"110"},on:{click:t.remainAmmounts}},[t._v(" 재료 계산 ")]):t._e()],1),e(b.Z,{staticClass:"mr-1",attrs:{vertical:""}}),e("div",{staticClass:"ma-3"},t._l(t.requestRecipe.Recipe_Ingredients,(function(i){return e("span",{key:i.id},[t.UnExistIngre.includes(i.id)?t._e():e("span",{staticClass:"my-text ml-16",staticStyle:{"vertical-align":"text-top"}},[t._v(t._s(i.name)+" "+t._s(i.amount)+t._s(i.unit))]),t.UnExistIngre.includes(i.id)?e("span",{staticClass:"my-text-x ml-16",staticStyle:{"vertical-align":"text-top"}},[t._v(t._s(i.name)+" "+t._s(i.amount)+t._s(i.unit))]):t._e(),e("br")])})),0)],1),e("div",{staticClass:"line mx-5"})]),e(v.Z,{staticClass:"mx-5 mt-5",attrs:{"min-height":"100"}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" 레시피 내용 ")]),e(T.ZB,[t._v(" "+t._s(t.requestRecipe.description)+" ")])],1),e("div",{staticClass:"d-flex justify-center my-5",class:{liked:1==t.isLikedAfter,unliked:0==t.isLikedAfter}},[e(f.Z,{attrs:{text:"",icon:"","x-large":""},on:{click:t.likeRecipe}},[e(ut.Z,[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(t.requestRecipe.like_count)+" ")],1)],1),e("div",{staticClass:"my-text ml-7"},[t._v("댓글 "+t._s(t.requestRecipe.comment_count)+"개")]),e("div",{staticClass:"mx-5 line"}),t._l(t.requestRecipe.comments,(function(i){return e("div",{key:i.comment_id},[t.editCommentID!=i.comment_id?e("div",{staticClass:"d-flex align-top justify-space-between"},[e("div",{staticClass:"d-flex align-top jusify-left"},[e("div",{staticClass:"mx-7 my-3 my-comment-commenter"},[e("h3",{staticClass:"my-text"},[t._v(t._s(i.nickname))]),e("p",{staticClass:"ma-0 my-text"},[t._v(t._s(i.comment_time.split(/['T']/)[0]))])]),e("div",{staticClass:"my-comment my-text ma-3"},[t._v(" "+t._s(i.comments)+" ")])]),e("div",{staticClass:"d-flex my-3 mr-7"},[e("div",[t.userNN!=i.nickname?e(f.Z,{attrs:{text:"",icon:"",small:""},on:{click:function(e){return t.reportComment(i.comment_id)}}},[e(ut.Z,[t._v("mdi-alert-outline")])],1):t._e(),t.userNN==i.nickname?e("div",[e(f.Z,{attrs:{text:"",icon:"",small:"",color:"blue"},on:{click:function(e){return t.toEditComment(i)}}},[e(ut.Z,[t._v("mdi-pencil-outline")])],1),e(f.Z,{attrs:{text:"",icon:"",small:"",color:"red"},on:{click:function(e){return t.commentDeletePopup(i.comment_id)}}},[e(ut.Z,[t._v("mdi-trash-can-outline")])],1)],1):t._e()],1)])]):e("div",{staticClass:"d-flex align-top jusify-left my-comment-write"},[e("div",{staticClass:"mx-7 my-3 my-comment-commenter"},[e(f.Z,{attrs:{color:"#AEBDCA"},on:{click:t.editComment}},[t._v("수정하기")])],1),e(v.Z,{staticClass:"mb-0 mr-5 ml-11",attrs:{width:"100%",color:"#f5efe6",flat:""}},[e("div",{staticClass:"my-text mb-0 ma-3"},[e(F.Z,[e(Ht.Z,{staticClass:"mb-0",attrs:{outlined:"","background-color":"white",label:"댓글을 입력해 주세요.",rules:t.changeComment_rule},model:{value:t.changeComment,callback:function(e){t.changeComment=e},expression:"changeComment"}})],1)],1)])],1),e("div",{staticClass:"mx-5 line"})])})),e("div",{staticClass:"d-flex align-top jusify-left my-comment-write"},[e("div",{staticClass:"mx-7 my-3 my-comment-commenter"},[e(f.Z,{attrs:{color:"#AEBDCA"},on:{click:t.addComment}},[t._v("등록")])],1),e(v.Z,{staticClass:"mb-0 mr-5 ml-11",attrs:{width:"100%",color:"#f5efe6",flat:""}},[e("div",{staticClass:"my-text mb-0 ma-3"},[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(Ht.Z,{staticClass:"mb-0",attrs:{outlined:"","background-color":"white",label:"댓글을 입력해 주세요.",rules:t.newComment_rule},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1)],1)])],1)],2)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2Title:t.btn2Title,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1)),e("br"),t._v(t._s(t.content2))])]},proxy:!0}])})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.createMailDialog,callback:function(e){t.createMailDialog=e},expression:"createMailDialog"}},[e("create-mail-dialog",{attrs:{receiverFixed:!0,receiver:t.requestRecipe.nickname},on:{hide:t.hideMailCreate}})],1),e(k.Z,{attrs:{"max-width":"400"},model:{value:t.reportDialog,callback:function(e){t.reportDialog=e},expression:"reportDialog"}},[e("report-dialog",{attrs:{postType:t.reportType,postID:t.reportID},on:{hide:t.hideReportDialog}})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},be=[],ye=function(){var t=this,e=t._self._c;return e(v.Z,[e(T.EB,{staticClass:"justify-start"},[t._v(" 신고하기 ")]),e(T.ZB,[e(Ht.Z,{attrs:{label:"이곳에 신고 사유를 작성하세요",required:"",outlined:""},model:{value:t.reportContents,callback:function(e){t.reportContents=e},expression:"reportContents"}})],1),e(T.h7,{staticClass:"justify-center mr-2 pb-4"},[e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:function(e){return t.$emit("hide")}}},[t._v(" 취소 ")]),e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:t.reportPopup}},[t._v(" 신고하기 ")])],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.titlePopup,btn1Title:t.titleBtn1,btn2Title:t.titleBtn2,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(" "+t._s(t.content)+" ")])]},proxy:!0}])})],1)],1)},Ze=[],Ce={name:"Report",components:{PopupDialog:R},data(){return{popupDialog:!1,reportContents:"",titlePopup:"",content:"",titleBtn1:"",titleBtn2:"",btn2:!0}},props:{postType:{type:Number},postID:{type:Number}},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},checkDialog(){this.reportPost(),this.hideDialog()},reportFailPopup(){this.titlePopup="신고 등록 실패",this.content="신고 등록에 실패했습니다.",this.titleBtn1="확인",this.btn2=!1,this.showDialog()},reportFailPopupComment(){this.titlePopup="댓글 신고",this.content="댓글 신고를 실패하였습니다.",this.titleBtn1="확인",this.btn2=!1,this.showDialog()},reportPopup(){this.titlePopup="신고 확인";let t="게시글";-1==this.postType&&(t="댓글"),this.content=t+"을 신고하시겠습니까?",this.titleBtn1="취소",this.titleBtn2="신고",this.btn2=!0,this.showDialog()},emitMethod(){this.$emit("hide")},reportPost(){let t=this;console.log("통합 신고 로직");const e=JSON.parse(localStorage.getItem("UserInfo")),i=JSON.stringify({id:0,contents:t.reportContents,post_type:t.postType,post_id:t.postID,reporter:e.nickname});console.log("신고때 보낼 거",i),1==t.postType?Q.recipeReport(i).then((function(e){200==e.status&&(console.log("레시피 게시글 신고 성공"),t.emitMethod())})).catch((function(e){500==e.response.status?(console.log("500 DB error"),t.reportFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.reportFailPopup())})):2==t.postType?Q.photoReport(i).then((function(e){200==e.status&&(console.log("요리사진 게시글 신고 성공"),t.emitMethod())})).catch((function(e){500==e.response.status?(console.log("500 DB error"),t.reportFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.reportFailPopup())})):-1==t.postType&&Q.commentReport(i).then((function(e){console.log("응답 정보",e),200==e.status&&(console.log("댓글 신고 성공"),t.emitMethod())})).catch((function(e){404==e.response.status?(console.log("404 DB error"),t.reportFailPopupComment()):500==e.response.status&&(console.log("500 Unknown error"),t.reportFailPopupComment())}))}}},xe=Ce,De=(0,u.Z)(xe,ye,Ze,!1,null,null,null),we=De.exports,Te=function(){var t=this,e=t._self._c;return e(v.Z,{staticClass:"overflow-y-auto"},[e(T.EB,{staticClass:"justify-start"},[t._v(" 쪽지 보내기 ")]),e(T.ZB,[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("span",[t._v("받는 사람")]),e("div",[t.receiverFixed?e(U.Z,{attrs:{disabled:"",outlined:""},model:{value:t.mailReceiver,callback:function(e){t.mailReceiver=e},expression:"mailReceiver"}}):e(U.Z,{attrs:{label:"받을 사람의 닉네임을 작성하세요",rules:t.receiver_rule,outlined:""},model:{value:t.mailReceiver,callback:function(e){t.mailReceiver=e},expression:"mailReceiver"}})],1),e("span",[t._v("제목")]),e("div",[e(U.Z,{attrs:{label:"쪽지의 제목을 작성하세요",rules:t.title_rule,outlined:""},model:{value:t.mailTitle,callback:function(e){t.mailTitle=e},expression:"mailTitle"}})],1),e("span",[t._v("내용")]),e("div",[e(Ht.Z,{attrs:{label:"쪽지의 내용을 작성하세요",rules:t.contents_rule,outlined:""},model:{value:t.mailContents,callback:function(e){t.mailContents=e},expression:"mailContents"}})],1)])],1),e(T.h7,{staticClass:"justify-center mr-2 pb-4"},[e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:function(e){return t.$emit("hide")}}},[t._v(" 뒤로가기 ")]),e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:t.sendMail}},[t._v(" 보내기 ")])],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:"전송 실패",btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(" 쪽지 전송에 실패했습니다. ")])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},Se=[],Pe={name:"CreateMail",components:{PopupDialog:R},data(){return{valid:!0,popupDialog:!1,mailReceiver:"",mailTitle:"",mailContents:"",snackbar:!1,snackbarContents:"",receiver_rule:[t=>!!t||"받는 사람의 아이디를 입력하세요.",t=>!(t&&t.length<6)||"모든 아이디는 6자 이상입니다."],title_rule:[t=>!!t||"쪽지 제목을 입력하세요."],contents_rule:[t=>!!t||"쪽지 내용을 입력하세요."]}},props:{receiverFixed:{type:Boolean,default:!1},receiver:{type:String,default:""}},mounted(){this.mailReceiver=this.receiver},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},emitMethod(){0==this.receiverFixed&&this.$emit("update"),this.$emit("hide")},sendMail(){let t=this;const e=this.$refs.form.validate();if(!e)return t.snackbarContents="쪽지 정보를 입력해 주세요.",void(t.snackbar=!0);console.log("메일 등록 로직");const i=JSON.parse(localStorage.getItem("UserInfo")),s=JSON.stringify({mail_id:null,nickname:i.nickname,receiver:t.mailReceiver,title:t.mailTitle,contents:t.mailContents,send_time:"",sender_check:0,receiver_check:0});Q.mailSend(s).then((function(e){console.log("response",e),200==e.status&&(console.log("성공 응답",e.data),t.emitMethod())})).catch((function(e){404==e.response.status?(console.log("404 error"),t.showDialog()):500==e.response.status&&(console.log("500 Unknown error"),t.showDialog())}))}}},Ie=Pe,Be=(0,u.Z)(Ie,Te,Se,!1,null,null,null),Le=Be.exports,Re={components:{PopupDialog:R,ReportDialog:we,CreateMailDialog:Le,dropdown:Mt.Z},data(){return{valid:!0,popupDialog:!1,reportDialog:!1,createMailDialog:!1,headerTitle:"",content1:"",content2:"",btn1Title:"",btn2Title:"",btn2:!1,reportType:0,reportID:0,snackbar:!1,snackbarContents:"",requestRecipe:[],UnExistIngre:[],changeComment:"",changeComment_rule:[t=>!!t||"댓글 내용을 입력하세요."],newComment:"",newComment_rule:[t=>!!t||"댓글 내용을 입력하세요."],isLikedBefore:null,isLikedAfter:null,isMine:null,deletePost:!1,isRecipeDelete:!0,deleteCommentID:-1,editCommentID:-1,recippeType:[{name:"최근 순"},{name:"조회 순"},{name:"좋아요 순"}],recippeTypeObject:{name:"한식"},hotLevel:[{name:"1단계"},{name:"2단계"},{name:"3단계"},{name:"4단계"},{name:"5단계"}],hotLevelObject:{name:"3단계"},hotLevel:4,canDecrease:!1,userNN:""}},mounted(){let t=this.$route.params.id;console.log("post_id",t),null==t&&console.log("ERROR");const e=JSON.parse(localStorage.getItem("UserInfo"));let i=this;i.userNN=e.nickname,Q.recipeLookup(t,i.userNN).then((function(t){console.log("게시글 응답 온거",t),200==t.status&&(console.log("조회 성공"),i.requestRecipe=t.data.recipeInfo,i.isLikedBefore=t.data.likeInfo,i.isLikedAfter=i.isLikedBefore,i.hotLevel=i.requestRecipe["degree_of_spicy"],i.requestRecipe.nickname==i.userNN?i.isMine=!0:i.isMine=!1)})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.requestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.requestFailPopup())})),Q.unExistIngredients(i.userNN,t).then((function(t){if(console.log("test",t.data),console.log("test",t.data.length),200==t.status){console.log("없는 식재료 가져오기 성공");for(let e=0;e<t.data.length;e++)i.UnExistIngre.push(t.data[e].id);0==t.data.length?i.canDecrease=!0:i.canDecrease=!1}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.ingreFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.ingreFailPopup())}))},beforeDestroy(){let t=this;if(t.deletePost)return;if(t.isLikedBefore==t.isLikedAfter)return;let e="";e=t.isLikedBefore?"취소":"등록",console.log(e);const i=JSON.stringify({like_id:0,nickname:t.userNN,postType:1,postId:t.requestRecipe.post_id,task:e});Q.recipeLike(i).then((function(t){200==t.status&&console.log("좋아요 "+e+" 성공")})).catch((function(i){500==i.response.status?(console.log("500 취소 오류"),t.likeFailPopup(e)):501==i.response.status?(console.log("501 등록 오류"),t.likeFailPopup(e)):502==i.response.status&&(console.log("502 Unknown error"),t.likeFailPopup(e))}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},deletePopup(){this.headerTitle="레시피 게시글 삭제",this.content1="삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.isRecipeDelete=!0,this.showDialog()},commentDeletePopup(t){this.deleteCommentID=t,this.headerTitle="댓글 삭제",this.content1="댓글을 삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.isRecipeDelete=!1,this.showDialog()},deleteFailPopup(){this.headerTitle="레시피 게시글 삭제 실패",this.content1="게시글 삭제에 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},commentDeleteFailPopup(){this.headerTitle="댓글 삭제",this.content1="댓글 삭제를 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},requestFailPopup(){this.headerTitle="게시글 불러오기 실패",this.content1="레시피 게시글을 불러오는데",this.content2="실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},ingreFailPopup(){this.headerTitle="재료 요청 실패",this.content1="없는 재료를 가져오는데 실패했습니다.",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},decreaseAmountFailPopup(){this.headerTitle="저장 실패",this.content1="감산 결과를 저장하는데 실패했습니다.",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},likeFailPopup(t){this.headerTitle="좋아요 "+t+" 실패",this.content1="좋아요 "+t+"에 실패했습니다.",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.showDialog()},commentInvalidPopup(){this.headerTitle="댓글 작성",this.content1="댓글 작성란이 비어있습니다.",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},editCommentInvalidPopup(){this.headerTitle="댓글 수정",this.content1="댓글 작성란이 비어있습니다.",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},commentAddFailPopup(){this.headerTitle="댓글 등록",this.content1="댓글 등록에 실패하였습니다.",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},checkDialog(){1==this.isRecipeDelete?this.deleteRecipe():this.deleteComment(),this.hideDialog()},deleteRecipe(){let t=this;t.deletePost=!0;const e=JSON.stringify(t.requestRecipe);Q.recipeDelete(e).then((function(t){200==t.status&&(console.log("삭제 성공"),qs.push({path:"/recipe"}))})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.deleteFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.deleteFailPopup())}))},deleteComment(){let t=this;const e=JSON.stringify({comment_id:t.deleteCommentID,nickname:t.userNN});Q.commentDelete(e).then((function(e){console.log("응답 정보",e),200==e.status&&(console.log("댓글 삭제 성공"),t.$router.go())})).catch((function(e){500==e.response.status?(console.log("403 DB 오류"),t.commentDeleteFailPopup()):502==e.response.status&&(console.log("500 Unknown error"),t.commentDeleteFailPopup())}))},showReportDialog(){this.reportDialog=!0},hideReportDialog(){this.reportDialog=!1},reportRecipe(){let t=this;t.reportType=1,t.reportID=t.requestRecipe.post_id,t.showReportDialog()},reportComment(t){let e=this;e.reportType=-1,e.reportID=t,e.showReportDialog()},showMailCreate(){this.createMailDialog=!0},hideMailCreate(){this.createMailDialog=!1},likeRecipe(){this.isLikedAfter=!this.isLikedAfter,this.isLikedAfter?++this.requestRecipe.like_count:--this.requestRecipe.like_count},unExistIngredients(){let t=this.$route.params.id,e=this;Q.unExistIngredients(e.userNN,t).then((function(t){if(console.log("test",t.data),console.log("test",t.data.length),200==t.status){console.log("없는 식재료 가져오기 성공");for(let i=0;i<t.data.length;i++)e.UnExistIngre.push(t.data[i].id);0==t.data.length?e.canDecrease=!0:e.canDecrease=!1}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),e.ingreFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),e.ingreFailPopup())}))},remainAmmounts(){let t=this;Q.decreaseAmount(t.userNN,t.requestRecipe.post_id).then((function(e){200==e.status&&(console.log("남은 재료 계산하기 성공"),t.unExistIngredients())})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.decreaseAmountFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.decreaseAmountFailPopup())}))},methodToRunOnSelect(t){this.object=t},addComment(){let t=this;const e=this.$refs.form.validate();if(!e)return void t.commentInvalidPopup();console.log("유효성검사 통과");const i=JSON.stringify({comment_id:0,comments:t.newComment,comment_time:0,nickname:t.userNN,post_id:t.requestRecipe.post_id});console.log(i),Q.commentAdd(i).then((function(e){console.log("응답 정보",e),200==e.status&&(console.log("댓글 등록 성공"),t.$router.go())})).catch((function(e){500==e.response.status?(console.log("403 DB 오류"),t.commentAddFailPopup()):502==e.response.status&&(console.log("500 Unknown error"),t.commentAddFailPopup())}))},toEditComment(t){this.editCommentID=t.comment_id,this.changeComment=t.comments},editComment(){let t=this;if(""==t.changeComment)return void t.editCommentInvalidPopup();const e=JSON.stringify({comment_id:t.editCommentID,comments:t.changeComment,comment_time:0,nickname:t.userNN,post_id:t.requestRecipe.post_id});Q.commentEdit(e).then((function(t){console.log("응답 정보",t),200==t.status&&(console.log("댓글 수정 성공"),qs.go())})).catch((function(e){500==e.response.status?(console.log("403 DB 오류"),t.snackbarContents="댓글 수정 실패",t.snackbar=!0):502==e.response.status&&(console.log("500 Unknown error"),t.snackbarContents="댓글 수정 실패",t.snackbar=!0)}))},menuButtonOnClickMethod(){let t=document.querySelector(".menu-container"),e=document.querySelector(".mail-btn"),i=document.querySelector(".report-btn"),s=document.querySelector(".delete-btn"),o=document.querySelector(".edit-btn");t.classList.contains("visible")?(console.log("visible 있음"),t.classList.remove("visible"),s.classList.remove("visible"),e.classList.remove("visible"),i.classList.remove("visible"),o.classList.remove("visible")):(this.isMine?(s.classList.add("visible"),o.classList.add("visible")):(e.classList.add("visible"),i.classList.add("visible")),console.log("visible 없음"),t.classList.add("visible"))},mailButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("쪽지 버튼 누름!"),t.classList.remove("visible"),this.showMailCreate()},reportButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("신고 버튼 누름!"),t.classList.remove("visible"),this.reportRecipe()},deleteButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("삭제 버튼 누름!"),t.classList.remove("visible"),this.deletePopup()},editButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("삭제 버튼 누름!"),t.classList.remove("visible");let e=this.requestRecipe.post_id;qs.push({path:"/recipe/edit/"+e})}}},Ae=Re,je=(0,u.Z)(Ae,ke,be,!1,null,"192e639a",null),qe=je.exports,Ne=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"1000",color:"#f5efe6"}},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{text:"",to:"/recipe"}},[t._v(" - 레시피 게시판")]),e(F.Z,{ref:"form",staticClass:"mt-5",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center my-text"},[e("span",{staticClass:"mr-16"},[t._v("레시피 제목")]),e(b.Z,{attrs:{vertical:""}}),e(U.Z,{staticClass:"ml-16",attrs:{name:"name",label:"레시피 제목",id:"id",rules:t.title_rule},model:{value:t.recipeTitle,callback:function(e){t.recipeTitle=e},expression:"recipeTitle"}})],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center my-text"},[e("span",{staticClass:"mr-16"},[t._v("레시피 종류")]),e(b.Z,{attrs:{vertical:""}}),e(f.Z,{staticClass:"ml-14",on:{click:t.showCategoryDialog}},[t._v("카테고리 선택하기")]),e("span",{staticClass:"ml-16"},[t._v("카테고리 : "+t._s(t.recipeCategory))])],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center my-text"},[e("span",{staticClass:"mr-16"},[t._v("매운맛 단계")]),e(b.Z,{attrs:{vertical:""}}),e("dropdown",{staticClass:"my-dropdown-toggle ml-15",attrs:{options:t.hotLevel,selected:t.hotLevelObject,placeholder:"매운맛 단계",closeOnOutsideClick:!0},on:{updateOption:t.methodToRunOnSelect_spicy}})],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex wrap align-center ingredients",staticStyle:{position:"relative"}},[e("span",{staticClass:"ml-1 mr-14 my-text"},[t._v("식재료 및 양")]),e(b.Z,{staticClass:"mr-11",attrs:{vertical:""}}),e("div",{staticClass:"ma-3"},t._l(t.ingredient,(function(i,s){return e("div",{key:i.name},[e("span",{staticClass:"my-text",staticStyle:{"vertical-align":"text-top"}},[t._v(t._s(i.name)+" "+t._s(i.amount)+t._s(i.unit))]),e(f.Z,{attrs:{small:"",text:"",color:"success pa-5"},on:{click:function(e){return t.beforeEdit(i)}}},[e(ut.Z,[t._v("mdi-pencil-outline")])],1),e(f.Z,{attrs:{small:"",text:"",color:"warning pa-5"},on:{click:function(e){return t.ingredient.splice(s,1)}}},[e(ut.Z,[t._v("mdi-close-box")])],1),e("br")],1)})),0),e("div",{staticClass:"d-flex"},[e(f.Z,{staticClass:"add-ingredient",attrs:{color:"success pa-5"},on:{click:t.showAddIngredientDialog}},[e(ut.Z,[t._v("mdi-plus-circle-outline")]),e("span",[t._v("재료 추가하기")])],1)],1)],1),e("div",{staticClass:"line mx-5"}),e(Ht.Z,{staticClass:"mt-5 mx-5",attrs:{outlined:"",name:"name",label:"레시피 설명을 입력하세요",placeholder:"레시피 설명을 입력하세요",height:"300","background-color":"white",rules:t.description_rule},model:{value:t.recipeDescription,callback:function(e){t.recipeDescription=e},expression:"recipeDescription"}})],1),e("div",{staticClass:"d-flex justify-end mr-5 pb-5"},[e(f.Z,{staticClass:"mr-5",attrs:{color:"#AEBDCA"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("수정취소")]),e(f.Z,{staticClass:"mr-2",attrs:{color:"#AEBDCA"},on:{click:function(e){return t.editRecipe()}}},[t._v("수정하기")])],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.categoryDialog,callback:function(e){t.categoryDialog=e},expression:"categoryDialog"}},[e("category-dialog",{on:{category:t.selectCategory,hide:t.hideCategoryDialog}})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.addIngredientDialog,callback:function(e){t.addIngredientDialog=e},expression:"addIngredientDialog"}},[e("add-ingredient-dialog",{attrs:{isRecipe:!0},on:{add:t.add,update:t.update,hide:t.hideAddIngredientDialog}})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.editIngredientDialog,callback:function(e){t.editIngredientDialog=e},expression:"editIngredientDialog"}},[e("edit-ingredient-dialog",{attrs:{isRecipe:!0,idP:t.id,nameP:t.name,amountP:t.amount,unitP:t.unit},on:{edit:t.edit,update:t.update,hide:t.hideEditIngredientDialog}})],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1)),e("br"),t._v(t._s(t.content2))])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},Ee=[],Oe={components:{dropdown:Mt.Z,PopupDialog:R,AddIngredientDialog:re,EditIngredientDialog:he,CategoryDialog:Qt},data(){return{valid:!0,addIngredientDialog:!1,popupDialog:!1,categoryDialog:!1,editIngredientDialog:!1,editIngreID:-1,headerTitle:"",content1:"",content2:"",btn1Title:"",id:-1,name:"",amount:-1,unit:"",snackbar:!1,snackbarContents:"",userNN:"",requestRecipe:[],ingredient:[],hotLevel:[{name:"0단계"},{name:"1단계"},{name:"2단계"},{name:"3단계"},{name:"4단계"},{name:"5단계"}],hotLevelObject:{name:"매운맛 단계"},title_rule:[t=>!!t||"제목을 입력하세요."],recipeTitle:"",recipeCategory:null,recipeSpicy:0,recipeDescription:"",description_rule:[t=>!!t||"내용을 입력하세요."]}},mounted(){let t=this.$route.params.id;console.log("post_id",t),null==t&&console.log("ERROR");const e=JSON.parse(localStorage.getItem("UserInfo"));let i=this;i.userNN=e.nickname,Q.recipeLookup(t,i.userNN).then((function(t){console.log("게시글 응답 온거",t),200==t.status&&(console.log("조회 성공"),i.requestRecipe=t.data.recipeInfo,i.recipeTitle=i.requestRecipe.title,i.recipeCategory=i.requestRecipe.category,i.recipeSpicy=i.requestRecipe.degree_of_spicy,i.recipeDescription=i.requestRecipe.description,i.ingredient=i.requestRecipe.Recipe_Ingredients)})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.requestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="게시글 불러오기 실패",this.content1="레시피 게시글을 불러오는데",this.content2="실패했습니다.",this.showDialog()},showCategoryDialog(){this.categoryDialog=!0},hideCategoryDialog(){this.categoryDialog=!1},selectCategory(t){this.recipeCategory=t},showAddIngredientDialog(){this.addIngredientDialog=!0},hideAddIngredientDialog(){this.addIngredientDialog=!1},add(t){let e=this;const i={id:null,name:t.name,post_id:null,unit:t.unit,amount:t.amount};var s=this.ingredient.findIndex((e=>e.name===t.name));if(-1!=s)return e.snackbarContents="이미 추가한 재료입니다.",void(e.snackbar=!0);this.ingredient.push(i)},showEditIngredientDialog(){this.editIngredientDialog=!0},hideEditIngredientDialog(){this.editIngredientDialog=!1},beforeEdit(t){this.editIngreID=t.id,this.id=t.id,this.name=t.name,this.amount=t.amount,this.unit=t.unit,this.showEditIngredientDialog()},edit(t){var e=this.ingredient.findIndex((t=>t.id===this.editIngreID));this.ingredient[e].amount=t.amount,this.ingredient[e].name=t.name,this.ingredient[e].unit=t.unit},update(){this.$router.go()},editRecipe(){let t=this;const e=this.$refs.form.validate();if(!e)return t.snackbarContents="모든 정보를 입력해주세요 (제목 또는 내용)",void(t.snackbar=!0);if(null==t.recipeCategory)return t.snackbarContents="모든 정보를 입력해주세요 (카테고리)",void(t.snackbar=!0);if(0==t.ingredient.length)return t.snackbarContents="모든 정보를 입력해주세요 (식재료)",void(t.snackbar=!0);const i=JSON.stringify({post_id:t.requestRecipe.post_id,nickname:t.userNN,title:this.recipeTitle,category:this.recipeCategory,degree_of_spicy:this.recipeSpicy,description:this.recipeDescription,views:0,like_count:0,comment_count:0,upload_time:"2022-11-21T15:10:03.102840+09:00",Recipe_Ingredients:t.ingredient,comments:[]});console.log(i),Q.recipeEdit(i).then((function(t){console.log("전송 정보",i),200==t.status&&(console.log("응답 정보",t.data),qs.go(-1))})).catch((function(e){500==e.response.status?(console.log("500 DB error"),t.headerTitle="게시글 수정 실패",t.content1="게시글 수정을 실패했습니다.",t.showDialog()):502==e.response.status&&(console.log("502 Unknown error"),t.headerTitle="게시글 수정 실패",t.content1="게시글 수정을 실패했습니다.",t.showDialog())}))},methodToRunOnSelect_category(t){this.object=t,this.recipeCategory=this.object.name},methodToRunOnSelect_spicy(t){this.object=t,"0단계"==this.object.name?this.recipeSpicy=0:"1단계"==this.object.name?this.recipeSpicy=1:"2단계"==this.object.name?this.recipeSpicy=2:"3단계"==this.object.name?this.recipeSpicy=3:"4단계"==this.object.name?this.recipeSpicy=4:"5단계"==this.object.name&&(this.recipeSpicy=5)}}},Fe=Oe,Me=(0,u.Z)(Fe,Ne,Ee,!1,null,"e16c8af8",null),Ue=Me.exports,ze=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"calc(100vh - 120px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("요리 사진 게시판")]),e("dropdown",{staticClass:"my-dropdown-toggle my-5",attrs:{options:t.search_standard,selected:t.currentSearchOption,placeholder:"검색 기준",closeOnOutsideClick:!0},on:{updateOption:t.methodToRunOnSelect}})],1),e(f.Z,{staticClass:"write-icon",attrs:{fab:"",to:"/photo/create","x-large":"",color:"primary"}},[e(ut.Z,{attrs:{dark:""}},[t._v("mdi-pencil-outline")])],1),e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"8"}},[t._l(t.photo,(function(i){return e(v.Z,{key:i.post_id,staticClass:"my-10",attrs:{height:"400"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e(Z.Z,[e(_.Z,{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"pl-5"},[e(T.EB,[t._v(t._s(i.nickname))]),e(T.Qq,[t._v(t._s(i.upload_time.split(/[T]/)[0]))])],1),e("div",[e(ut.Z,{staticClass:"pa-6",attrs:{large:""}},[t._v(" mdi-thumb-up-outline ")]),e("span",{staticClass:"pr-6 like-count"},[t._v(t._s(i.like_count))])],1)])],1),e("div",{staticClass:"mx-6 mt-3"},[e(y.Z,{attrs:{"max-height":"250",contain:"",src:"data:image/jpeg;base64,"+i.photo_link}})],1)],1)})),e(Et.Z,{staticClass:"pb-10",attrs:{length:t.pageLength},on:{input:t.handlePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],2)],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},$e=[],Je={components:{dropdown:Mt.Z,PopupDialog:R},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,photo:[],photoID:null,search_standard:[{name:"최근 순"},{name:"좋아요 순"}],currentSearchOption:{name:"최근 순"},search_object:{name:"정렬 기준"},page:1,pageLength:null}},mounted(){let t=this;Q.photoList(1).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공"),t.pageLength=e.data.total_page,console.log(t.pageLength);for(let i=0;null!=e.data.photoList[i];i++)t.photo.push(e.data.photoList[i]);console.log(t.photo)}})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.requestFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="요청 실패",this.content1="사진 게시글 요청을 실패하였습니다.",this.showDialog()},sortRequestFailPopup(){this.headerTitle="요청 실패",this.content1="정렬 정보 요청을 실패하였습니다.",this.showDialog()},toLookup(t){qs.push({path:"/photo/lookup/"+t})},sortPhotoList(t,e){let i=this;i.photo=[];const s=JSON.stringify({arrangeBy:e,page:t});Q.photoSort(s).then((function(t){if(console.log("응답 온거",t),200==t.status){console.log("정렬 성공");for(let e=0;null!=t.data.photoList[e];e++)i.photo.push(t.data.photoList[e]);console("리스트 내용 : ",i.photo),window.scrollTo({top:0})}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.sortRequestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.sortRequestFailPopup())}))},methodToRunOnSelect(t){this.object=t,"최근 순"==this.object.name?(console.log("최근 순 선택"),this.currentSearchOption.name="최근 순",this.page=1,this.sortPhotoList(this.page,this.currentSearchOption.name)):"좋아요 순"==this.object.name&&(console.log("좋아요 순 선택"),this.currentSearchOption.name="좋아요 순",this.page=1,this.sortPhotoList(this.page,this.currentSearchOption.name))},handlePage(){let t=this;("최근 순"==this.currentSearchOption.name||"좋아요 순"==this.currentSearchOption.name)&&this.sortPhotoList(t.page,this.currentSearchOption.name)}}},We=Je,Qe=(0,u.Z)(We,ze,$e,!1,null,null,null),Ve=Qe.exports,Ke=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"800","fill-height":"",color:"#f5efe6"}},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{to:"/photo",text:""}},[t._v(" - 요리 사진 게시판")]),e(Z.Z,[e(_.Z,[e(v.Z,{staticClass:"mt-10",attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(Z.Z,[e(_.Z,{staticClass:"py-0 my-0",attrs:{cols:"3"}},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{staticStyle:{color:"#7895B2"},attrs:{"primary-title":""}},[t._v(" 작성자 ")])],1)],1),e(_.Z,{staticClass:"py-0 my-0"},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" "+t._s(t.nickname)+" ")])],1)],1)],1),e(Z.Z,[e(_.Z,{staticClass:"py-0 my-0",attrs:{cols:"3"}},[e(v.Z,{staticStyle:{color:"#7895B2"},attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,[t._v(" 작성일 ")])],1)],1),e(_.Z,{staticClass:"py-0 my-0"},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,[t._v(" "+t._s(t.upload_time)+" ")])],1)],1)],1)],1)],1)],1),e(Z.Z,[e(_.Z,{attrs:{justify:"center"}},[t.preview?e(v.Z,[e(y.Z,{staticClass:"img-fluid",attrs:{src:t.preview,contain:""}})],1):t._e(),e("input",{staticClass:"form-control-file",attrs:{type:"file",accept:"image/*",id:"my-file"},on:{change:t.previewImage}})],1)],1),e(v.Z,{attrs:{height:"300",color:"#f5efe6",flat:"",id:"card-on-off"}}),e(Z.Z,[e(_.Z,{attrs:{offset:"5",col:"2"}},[e(f.Z,{attrs:{"x-large":"",color:"#7895B2"},on:{click:t.addPhoto}},[t._v("게시글 게시")])],1)],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:"서버 오류",btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v("게시글 등록을 실패하였습니다.")])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},Ye=[],Ge=i(8005),He=i.n(Ge),Xe={components:{PopupDialog:R},data(){return{popupDialog:!1,preview:null,image:null,nickname:"",upload_time:"",snackbar:!1,snackbarContents:""}},mounted(){const t=JSON.parse(localStorage.getItem("UserInfo"));this.nickname=t.nickname;const e=new Date;this.upload_time=e.toLocaleString().split(/[\.]/)[0]+" -"+e.toLocaleString().split(/[\.]/)[1]+" -"+e.toLocaleString().split(/[\.]/)[2]},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},previewImage:function(t){const e=document.getElementById("card-on-off");"none"!==e.style.display&&(e.style.display="none");var i=t.target;if(i.files){var s=new FileReader;s.onload=t=>{this.preview=t.target.result,this.image=this.preview},this.image=i.files[0],s.readAsDataURL(i.files[0])}new(He())(this.image,{quality:.6,success(t){this.image=this.image,console.log(this.image)}})},reset:function(){this.image=null,this.preview=null,this.image_list=[],this.preview_list=[]},addPhoto(){let t=this;if(null==t.image)return t.snackbarContents="사진을 추가해주세요.",void(t.snackbar=!0);const e=JSON.stringify({post_id:null,photo_link:this.image.split(/[\,]/)[1],like_count:0,upload_time:null,nickname:this.nickname});Q.photoAdd(e).then((function(t){console.log("전송 정보",e),200==t.status&&(console.log("응답 정보",t.data),qs.push({path:"/photo"}))})).catch((function(e){500==e.response.status?(console.log("500 DB error"),t.showDialog()):502==e.response.status&&(console.log("502 Unknown error"),t.showDialog())}))}}},ti=Xe,ei=(0,u.Z)(ti,Ke,Ye,!1,null,null,null),ii=ei.exports,si=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{height:"md-800 xl-1000",color:"#f5efe6"}},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{text:"",to:"/photo"}},[t._v(" - 요리 사진 게시판")]),e(Z.Z,[e(_.Z,[e(v.Z,{staticClass:"mt-10",attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(Z.Z,[e(_.Z,{staticClass:"py-0 my-0",attrs:{cols:"3"}},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{staticStyle:{color:"#7895B2"},attrs:{"primary-title":""}},[t._v(" 작성자 ")])],1)],1),e(_.Z,{staticClass:"py-0 my-0"},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" "+t._s(t.requestPhoto.nickname)+" ")])],1)],1)],1),e(Z.Z,[e(_.Z,{staticClass:"py-0 my-0",attrs:{cols:"3"}},[e(v.Z,{staticStyle:{color:"#7895B2"},attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,[t._v(" 작성일 ")])],1)],1),e(_.Z,{staticClass:"py-0 my-0"},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" "+t._s(t.requestPhoto.upload_time.split(/[T]/)[0])+" ")])],1)],1)],1)],1)],1)],1),e(Z.Z,[e(_.Z,{attrs:{offset:"2",cols:"8"}},[e(y.Z,{attrs:{"max-height":"350",contain:"",src:"data:image/jpeg;base64,"+t.requestPhoto.photo_link}})],1),e(_.Z,{staticClass:"d-flex align-end",attrs:{cols:"2"}},[e(Z.Z,{attrs:{justify:"start"}},[e("div",{staticClass:".buttons"},[t.isMine?e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.deletePopup}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-delete-outline")]),e("div",[t._v("삭제")])],1):t._e(),e(v.Z,{attrs:{height:"20",color:"#f5efe6",flat:""}}),t.isMine?t._e():e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.showMailCreate}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-email-arrow-right-outline")]),e("div",[t._v("쪽지")])],1),e(v.Z,{attrs:{height:"20",color:"#f5efe6",flat:""}}),t.isMine?t._e():e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.showReportDialog}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-alert-octagon")]),e("div",[t._v("신고")])],1)],1)])],1)],1),e(Z.Z,{attrs:{justify:"center"}},[e(v.Z,{attrs:{color:"#f5efe6",height:"50",flat:""}},[e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.likePhoto}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-thumb-up-outline")]),t.isLikedAfter?t._e():e("div",[t._v("좋아요")]),t.isLikedAfter?e("div",[t._v("좋아요 취소")]):t._e()],1)],1)],1),e(Z.Z,{staticClass:"mt-10 thumbs",attrs:{justify:"center"}},[t._v(" 좋아요 수 "+t._s(t.requestPhoto.like_count)+" ")])],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2Title:t.btn2Title,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1)),e("br"),t._v(t._s(t.content2))])]},proxy:!0}])})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.createMailDialog,callback:function(e){t.createMailDialog=e},expression:"createMailDialog"}},[e("create-mail-dialog",{attrs:{receiverFixed:!0,receiver:t.requestPhoto.nickname},on:{hide:t.hideMailCreate}})],1),e(k.Z,{attrs:{"max-width":"400"},model:{value:t.reportDialog,callback:function(e){t.reportDialog=e},expression:"reportDialog"}},[e("report-dialog",{attrs:{postType:2,postID:t.requestPhoto.post_id},on:{hide:t.hideReportDialog}})],1)],1)},oi=[],ni={components:{PopupDialog:R,ReportDialog:we,CreateMailDialog:Le},data(){return{popupDialog:!1,reportDialog:!1,createMailDialog:!1,headerTitle:"",content1:"",content2:"",btn1Title:"",btn2Title:"",btn2:!1,requestPhoto:[],isLikedBefore:null,isLikedAfter:null,isMine:null,deletePost:!1}},mounted(){let t=this.$route.params.id;console.log("post_id",t),null==t&&console.log("ERROR");const e=JSON.parse(localStorage.getItem("UserInfo"));let i=this;Q.photoLookup(t,e.nickname).then((function(t){console.log("응답 온거",t),200==t.status&&(console.log("조회 성공"),i.requestPhoto=t.data.photoInfo,i.isLikedBefore=t.data.likeInfo,i.isLikedAfter=i.isLikedBefore,i.requestPhoto.nickname==e.nickname?i.isMine=!0:i.isMine=!1)})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.requestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.requestFailPopup())}))},beforeDestroy(){let t=this;if(t.deletePost)return;if(t.isLikedBefore==t.isLikedAfter)return;const e=JSON.parse(localStorage.getItem("UserInfo"));let i="";i=t.isLikedBefore?"취소":"등록",console.log(i);const s=JSON.stringify({like_id:0,nickname:e.nickname,postType:2,postId:t.requestPhoto.post_id,task:i});Q.photoLike(s).then((function(t){200==t.status&&console.log("좋아요 "+i+" 성공")})).catch((function(e){500==e.response.status?(console.log("500 취소 오류"),t.likeFailPopup(i)):501==e.response.status?(console.log("501 등록 오류"),t.likeFailPopup(i)):502==e.response.status&&(console.log("502 Unknown error"),t.likeFailPopup(i))}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},deletePopup(){this.headerTitle="요리 사진 게시글 삭제",this.content1="게시글을 삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.showDialog()},deleteFailPopup(){this.headerTitle="서버 오류",this.content1="게시글 삭제를 실패하였습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},requestFailPopup(){this.headerTitle="요청 실패",this.content1="게시글을 불러오지 못했습니다.",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},likeFailPopup(t){this.headerTitle="서버 오류",this.content1='"좋아요" '+t+"에 실패하였습니다.",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.showDialog()},checkDialog(){this.deletePhoto(),this.hideDialog()},deletePhoto(){let t=this;t.deletePost=!0;const e={post_id:t.requestPhoto.post_id,photo_link:"",like_count:0,upload_time:"",nickname:t.requestPhoto.nickname};Q.photoDelete(e).then((function(t){200==t.status&&qs.push({name:"photo"})})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.deleteFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.deleteFailPopup())}))},showReportDialog(){this.reportDialog=!0},hideReportDialog(){this.reportDialog=!1},showMailCreate(){this.createMailDialog=!0},hideMailCreate(){this.createMailDialog=!1},likePhoto(){this.isLikedAfter=!this.isLikedAfter,this.isLikedAfter?++this.requestPhoto.like_count:--this.requestPhoto.like_count}}},ai=ni,li=(0,u.Z)(ai,si,oi,!1,null,null,null),ri=li.exports,ci=i(3201),pi=function(){var t=this,e=t._self._c;return e(O.Z,[e(ci.Z,[e(_.Z,{attrs:{offset:"1",cols:"10"}},[e(v.Z,{staticClass:"py-2",attrs:{color:"#f5efe6"}},[e(T.EB,{staticClass:"pl-10 my-text"},[t._v("나의 활동")]),e(T.h7,{staticClass:"pl-15"},[e(f.Z,{attrs:{text:"",to:"/mypage/myrecipe",color:"#7895B2"}},[t._v("내가 쓴 레시피")])],1),e(T.h7,{staticClass:"pl-15"},[e(f.Z,{attrs:{text:"",to:"/mypage/likedrecipe",color:"#7895B2"}},[t._v("좋아요 누른 레시피")]),e(f.Z,{attrs:{text:"",to:"/mypage/commentrecipe",color:"#7895B2"}},[t._v("댓글 단 레시피")])],1),e(T.h7,{staticClass:"pl-15"},[e(f.Z,{attrs:{text:"",to:"/mypage/myphoto",color:"#7895B2"}},[t._v("내가 올린 사진")])],1),e(T.h7,{staticClass:"pl-15"},[e(f.Z,{attrs:{text:"",to:"/mypage/likedphoto",color:"#7895B2"}},[t._v("좋아요 누른 사진")])],1)],1)],1)],1),e(ci.Z,[e(_.Z,{attrs:{offset:"1",cols:"5"}},[e(v.Z,{staticClass:"py-2",attrs:{color:"#f5efe6"}},[e(T.EB,{staticClass:"pl-10 my-text"},[t._v("냉장고")]),e(T.h7,{staticClass:"pl-15"},[e(f.Z,{attrs:{text:"",color:"#7895B2"},on:{click:function(e){return t.requestRefri()}}},[t._v("냉장고 조회")])],1)],1)],1),e(_.Z,{attrs:{cols:"5"}},[e(v.Z,{staticClass:"py-2",attrs:{color:"#f5efe6"}},[e(T.EB,{staticClass:"pl-10 my-text"},[t._v("쪽지함")]),e(T.h7,{staticClass:"pl-15"},[e(f.Z,{attrs:{text:"",color:"#7895B2"},on:{click:function(e){return t.requestML()}}},[t._v("쪽지 조회")])],1)],1)],1)],1),e(ci.Z,[e(_.Z,{staticClass:"py-2",attrs:{offset:"1",cols:"10"}},[e(v.Z,{staticClass:"py-2",attrs:{color:"#f5efe6"}},[e(T.EB,{staticClass:"ml-10 my-text"},[t._v("계정 관리")]),e(T.h7,{staticClass:"ml-15"},[e(f.Z,{attrs:{text:"",color:"#7895B2"},on:{click:function(e){return t.changeNi()}}},[t._v("닉네임 변경")])],1),e(T.h7,{staticClass:"ml-15"},[e(f.Z,{attrs:{text:"",color:"#7895B2"},on:{click:function(e){return t.changePW()}}},[t._v("비밀번호 변경")])],1)],1)],1)],1)],1)},ui=[],di={data(){return{myphotos:[],myrecipes:[]}},methods:{changePW(){qs.push({path:"/email-auth/1"})},changeNi(){qs.push({path:"/mypage/changeNickname"})},requestML(){qs.push({path:"/mail"})},requestRefri(){qs.push({path:"/mypage/refrigerator"})}}},mi=di,hi=(0,u.Z)(mi,pi,ui,!1,null,null,null),gi=hi.exports,fi=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{staticClass:"mb-3",attrs:{"min-height":"70",color:"#f5efe6"}},[e("div",{staticClass:"find-cook flex align-end mb-2"},[e("span",{staticClass:"my-dropdown-toggle my-0 ml-5"},[t._v(" 요리 이름 검색 ")]),e(U.Z,{staticClass:"mx-5",attrs:{label:"요리를 검색하세요","hide-details":"auto"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),e(f.Z,{staticClass:"mx-3",attrs:{color:"#E8DFCA"},on:{click:t.searchRecipeList}},[t._v(" 검색 ")])],1)]),e(v.Z,{attrs:{"min-height":"calc(100vh - 202px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("내가 쓴 레시피")]),e("dropdown",{staticClass:"my-dropdown-toggle",attrs:{options:t.sort_standard,selected:t.sort_object,placeholder:"정렬 기준",closeOnOutsideClick:!0},on:{updateOption:t.sortStandardRunOnSelect}})],1),t.isExist?t._e():e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-10",staticStyle:{"text-align":"center","font-size":"1.2em"}},[t._v(" "+t._s(t.emptyText)+" ")])])],1),t.isExist?e("div",t._l(t.recipes,(function(i){return e(v.Z,{key:i.post_id,staticClass:"mx-5 mb-5",attrs:{height:"100"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mx-10 py-3",staticStyle:{"font-size":"1.1em","font-weight":"600",color:"#7895B2"}},[t._v(t._s(i.title))]),i.degree_of_spicy>=1?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"mx-5",staticStyle:{border:"0.5px solid #7895B2"}}),e("div",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"ml-10 py-3",staticStyle:{color:"#7895B2"}},[e("span",{staticClass:"mr-3"},[t._v(t._s(i.upload_time.split(/[T]/)[0]))]),e("span",[t._v(t._s(i.nickname))])]),e("div",{staticClass:"mr-6"},[e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(i.like_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"blue"}},[t._v("mdi-comment-processing-outline")]),t._v(" "+t._s(i.comment_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"green"}},[t._v("mdi-eye-outline")]),t._v(" "+t._s(i.views)+" ")],1)])])})),1):t._e()],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},vi=[],_i={components:{PopupDialog:R,dropdown:Mt.Z},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,recipes:[],recipeID:null,userNN:"",emptyText:"",sort_standard:[{name:"최근 순"},{name:"조회 순"},{name:"좋아요 순"}],sort_object:{name:"최근 순"},searchText:"",isExist:!0}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));t.userNN=e.nickname,Q.myrecipesLookup(t.userNN).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공"),t.emptyText="작성한 레시피 게시글이 없습니다.";for(let i=0;null!=e.data[i];i++)t.recipes.push(e.data[i]);console.log("reponse 길이: "+e.data.length),0==e.data.length&&(t.isExist=!1)}})).catch((function(e){400==e.response.status?(console.log("400 DB 오류"),t.requestFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="레시피 요청 실패",this.content1="레시피 게시글 요청에 실패했습니다.",this.showDialog()},searchRequestFailPopup(){this.headerTitle="요청 실패",this.content1="검색 결과 요청에 실패했습니다.",this.showDialog()},sortRequestFailPopup(){this.headerTitle="요청 실패",this.content1="정렬 정보 요청에 실패했습니다.",this.showDialog()},toLookup(t){qs.push({path:"/mypage/mypagerecipelookup/"+t})},searchRecipeList(){let t=this;t.recipes=[];const e=JSON.stringify({nickname:t.userNN,keyword:t.searchText});Q.myrecipesSearch(e).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("검색 성공"),t.emptyText="검색결과 레시피가 존재하지 않습니다.";for(let i=0;null!=e.data[i];i++)t.recipes.push(e.data[i])}})).catch((function(e){404==e.response.status?(console.log("404 DB 오류"),t.searchRequestFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.searchRequestFailPopup())}))},sortRecipeList(t){let e=this;e.recipes=[];const i=JSON.stringify({nickname:e.userNN,arrangeBy:t});Q.myrecipesSort(i).then((function(t){if(console.log("응답 온거",t),200==t.status){console.log("정렬 성공");for(let i=0;null!=t.data[i];i++)e.recipes.push(t.data[i]);window.scrollTo({top:0})}})).catch((function(t){404==t.response.status?(console.log("404 DB 오류"),e.sortRequestFailPopup()):500==t.response.status&&(console.log("500 Unknown error"),e.sortRequestFailPopup())}))},sortStandardRunOnSelect(t){this.object=t,"최근 순"==this.object.name?(console.log("최근 순 선택"),this.sort_object.name="최근 순",console.log(this.sort_object.name),this.sortRecipeList(this.sort_object.name)):"조회 순"==this.object.name?(console.log("조회 순 선택"),this.sort_object.name="조회수 순",console.log(this.sort_object.name),this.sortRecipeList(this.sort_object.name)):"좋아요 순"==this.object.name&&(console.log("좋아요 순 선택"),this.sort_object.name="좋아요 순",console.log(this.sort_object.name),this.sortRecipeList(this.sort_object.name))}}},ki=_i,bi=(0,u.Z)(ki,fi,vi,!1,null,"0435189f",null),yi=bi.exports,Zi=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"calc(100vh - 120px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("좋아요 누른 레시피")])]),t.isExist?t._e():e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-10",staticStyle:{"text-align":"center","font-size":"1.2em"}},[t._v(" 좋아요를 누른 레시피 게시글이 없습니다. ")])])],1),t.isExist?e("div",t._l(t.recipes,(function(i){return e(v.Z,{key:i.post_id,staticClass:"mx-5 mb-5",attrs:{height:"100"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mx-10 py-3",staticStyle:{"font-size":"1.1em","font-weight":"600",color:"#7895B2"}},[t._v(t._s(i.title))]),i.degree_of_spicy>=1?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"mx-5",staticStyle:{border:"0.5px solid #7895B2"}}),e("div",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"ml-10 py-3",staticStyle:{color:"#7895B2"}},[e("span",{staticClass:"mr-3"},[t._v(t._s(i.upload_time.split(/[T]/)[0]))]),e("span",[t._v(t._s(i.nickname))])]),e("div",{staticClass:"mr-6"},[e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(i.like_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"blue"}},[t._v("mdi-comment-processing-outline")]),t._v(" "+t._s(i.comment_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"green"}},[t._v("mdi-eye-outline")]),t._v(" "+t._s(i.views)+" ")],1)])])})),1):t._e()],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},Ci=[],xi={components:{PopupDialog:R,dropdown:Mt.Z},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,recipes:[],recipeID:null,userNN:"",isExist:!0}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));t.userNN=e.nickname,Q.mylikeposts(t.userNN,1).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공");for(let i=0;null!=e.data[i];i++)t.recipes.push(e.data[i]);console.log("reponse 길이: "+e.data.length),0==e.data.length&&(t.isExist=!1)}})).catch((function(e){405==e.response.status?(console.log("405 DB 오류"),t.requestFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="정보 요청 실패",this.content1="정보 요청에 실패했습니다.",this.showDialog()},toLookup(t){qs.push({path:"/mypage/mypagerecipelookup/"+t})}}},Di=xi,wi=(0,u.Z)(Di,Zi,Ci,!1,null,"182624e8",null),Ti=wi.exports,Si=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"calc(100vh - 120px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("댓글 단 레시피")])]),t.isExist?t._e():e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-10",staticStyle:{"text-align":"center","font-size":"1.2em"}},[t._v(" 댓글을 작성한 게시글이 없습니다. ")])])],1),t.isExist?e("div",t._l(t.recipes,(function(i){return e(v.Z,{key:i.post_id,staticClass:"mx-5 mb-5",attrs:{height:"100"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mx-10 py-3",staticStyle:{"font-size":"1.1em","font-weight":"600",color:"#7895B2"}},[t._v(t._s(i.title))]),i.degree_of_spicy>=1?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),i.degree_of_spicy>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"mx-5",staticStyle:{border:"0.5px solid #7895B2"}}),e("div",{staticClass:"d-flex align-center justify-space-between"},[e("div",{staticClass:"ml-10 py-3",staticStyle:{color:"#7895B2"}},[e("span",{staticClass:"mr-3"},[t._v(t._s(i.upload_time.split(/[T]/)[0]))]),e("span",[t._v(t._s(i.nickname))])]),e("div",{staticClass:"mr-6"},[e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(i.like_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"blue"}},[t._v("mdi-comment-processing-outline")]),t._v(" "+t._s(i.comment_count)+" "),e(ut.Z,{staticClass:"ml-2",attrs:{color:"green"}},[t._v("mdi-eye-outline")]),t._v(" "+t._s(i.views)+" ")],1)])])})),1):t._e()],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},Pi=[],Ii={components:{PopupDialog:R,dropdown:Mt.Z},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,recipes:[],recipeID:null,userNN:"",isExist:!0}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));t.userNN=e.nickname,Q.mycommentposts(t.userNN).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공");for(let i=0;null!=e.data[i];i++)t.recipes.push(e.data[i]);console.log("reponse 길이: "+e.data.length),0==e.data.length&&(t.isExist=!1)}})).catch((function(e){405==e.response.status?(console.log("405 DB 오류"),t.requestFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="요청 실패",this.content1="레시피 게시글 요청에 실패했습니다.",this.showDialog()},toLookup(t){qs.push({path:"/mypage/mypagerecipelookup/"+t})}}},Bi=Ii,Li=(0,u.Z)(Bi,Si,Pi,!1,null,"c5f3c3da",null),Ri=Li.exports,Ai=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{staticStyle:{position:"relative"},attrs:{"min-height":"1000",color:"#f5efe6"}},[e("div",{staticClass:"d-flex justify-space-between align-end"},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{text:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" - 뒤로가기")]),e(f.Z,{staticClass:"mr-5",attrs:{text:""},on:{click:t.menuButtonOnClickMethod}},[e(ut.Z,[t._v("mdi-menu")])],1),e("div",{staticClass:"menu-container mr-5"},[e("div",{staticClass:"mail-btn menu-item",on:{click:t.mailButtonOnClickMethod}},[e("span",[t._v("쪽지")])]),e("div",{staticClass:"report-btn menu-item",on:{click:t.reportButtonOnClickMethod}},[e("span",[t._v("신고")])]),e("div",{staticClass:"edit-btn menu-item",on:{click:t.editButtonOnClickMethod}},[e("span",[t._v("수정")])]),e("div",{staticClass:"delete-btn menu-item",on:{click:t.deleteButtonOnClickMethod}},[e("span",[t._v("삭제")])])])],1),e("div",{staticClass:"mt-5"},[e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center"},[e("span",{staticClass:"my-text ml-11 mr-16 pa-4"},[t._v("레시피 제목")]),e(b.Z,{attrs:{vertical:""}}),e("span",{staticClass:"my-text ml-16 pa-4"},[t._v(t._s(t.requestRecipe.title))])],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center"},[e("span",{staticClass:"my-text ml-11 mr-16 pa-4"},[t._v("레시피 종류")]),e(b.Z,{attrs:{vertical:""}}),e("span",{staticClass:"my-text ml-16 pa-4"},[t._v(t._s(t.requestRecipe.category))])],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex align-center"},[e("span",{staticClass:"my-text ml-11 mr-16 pa-4"},[t._v("매운맛 단계")]),e(b.Z,{staticClass:"mr-3",attrs:{vertical:""}}),t.hotLevel>=1?e(ut.Z,{staticClass:"ml-16",attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=2?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=3?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=4?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e(),t.hotLevel>=5?e(ut.Z,{attrs:{color:"red"}},[t._v("mdi-chili-mild")]):t._e()],1),e("div",{staticClass:"line mx-5"}),e("div",{staticClass:"px-10 d-flex wrap align-center ingredients",staticStyle:{position:"relative"}},[e("div",{staticClass:"d-flex flex-column"},[e("span",{staticClass:"my-text ml-10 mr-16 pa-4"},[t._v("식재료 및 양")]),1==t.canDecrease?e(f.Z,{staticClass:"ml-10",attrs:{color:"#AEBDCA",small:"",width:"110"},on:{click:t.remainAmmounts}},[t._v(" 재료 계산 ")]):t._e()],1),e(b.Z,{staticClass:"mr-1",attrs:{vertical:""}}),e("div",{staticClass:"ma-3"},t._l(t.requestRecipe.Recipe_Ingredients,(function(i){return e("span",{key:i.id},[t.UnExistIngre.includes(i.id)?t._e():e("span",{staticClass:"my-text ml-16",staticStyle:{"vertical-align":"text-top"}},[t._v(t._s(i.name)+" "+t._s(i.amount)+t._s(i.unit))]),t.UnExistIngre.includes(i.id)?e("span",{staticClass:"my-text-x ml-16",staticStyle:{"vertical-align":"text-top"}},[t._v(t._s(i.name)+" "+t._s(i.amount)+t._s(i.unit))]):t._e(),e("br")])})),0)],1),e("div",{staticClass:"line mx-5"})]),e(v.Z,{staticClass:"mx-5 mt-5",attrs:{"min-height":"100"}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" 레시피 내용 ")]),e(T.ZB,[t._v(" "+t._s(t.requestRecipe.description)+" ")])],1),e("div",{staticClass:"d-flex justify-center my-5",class:{liked:1==t.isLikedAfter,unliked:0==t.isLikedAfter}},[e(f.Z,{attrs:{text:"",icon:"","x-large":""},on:{click:t.likeRecipe}},[e(ut.Z,[t._v("mdi-thumb-up-outline")]),t._v(" "+t._s(t.requestRecipe.like_count)+" ")],1)],1),e("div",{staticClass:"my-text ml-7"},[t._v("댓글 "+t._s(t.requestRecipe.comment_count)+"개")]),e("div",{staticClass:"mx-5 line"}),t._l(t.requestRecipe.comments,(function(i){return e("div",{key:i.comment_id},[t.editCommentID!=i.comment_id?e("div",{staticClass:"d-flex align-top justify-space-between"},[e("div",{staticClass:"d-flex align-top jusify-left"},[e("div",{staticClass:"mx-7 my-3 my-comment-commenter"},[e("h3",{staticClass:"my-text"},[t._v(t._s(i.nickname))]),e("p",{staticClass:"ma-0 my-text"},[t._v(t._s(i.comment_time.split(/[T]/)[0]))])]),e("div",{staticClass:"my-comment my-text ma-3"},[t._v(" "+t._s(i.comments)+" ")])]),e("div",{staticClass:"d-flex my-3 mr-7"},[e("div",[t.userNN!=i.nickname?e(f.Z,{attrs:{text:"",icon:"",small:""},on:{click:function(e){return t.reportComment(i.comment_id)}}},[e(ut.Z,[t._v("mdi-alert-outline")])],1):t._e(),t.userNN==i.nickname?e("div",[e(f.Z,{attrs:{text:"",icon:"",small:"",color:"blue"},on:{click:function(e){return t.toEditComment(i)}}},[e(ut.Z,[t._v("mdi-pencil-outline")])],1),e(f.Z,{attrs:{text:"",icon:"",small:"",color:"red"},on:{click:function(e){return t.commentDeletePopup(i.comment_id)}}},[e(ut.Z,[t._v("mdi-trash-can-outline")])],1)],1):t._e()],1)])]):e("div",{staticClass:"d-flex align-top jusify-left my-comment-write"},[e("div",{staticClass:"mx-7 my-3 my-comment-commenter"},[e(f.Z,{attrs:{color:"#AEBDCA"},on:{click:t.editComment}},[t._v("수정하기")])],1),e(v.Z,{staticClass:"mb-0 mr-5 ml-11",attrs:{width:"100%",color:"#f5efe6",flat:""}},[e("div",{staticClass:"my-text mb-0 ma-3"},[e(F.Z,{ref:"form",refInFor:!0,attrs:{"lazy-validation":""}},[e(Ht.Z,{staticClass:"mb-0",attrs:{outlined:"","background-color":"white",label:"댓글을 입력해 주세요.",rules:t.changeComment_rule},model:{value:t.changeComment,callback:function(e){t.changeComment=e},expression:"changeComment"}})],1)],1)])],1),e("div",{staticClass:"mx-5 line"})])})),e("div",{staticClass:"d-flex align-top jusify-left my-comment-write"},[e("div",{staticClass:"mx-7 my-3 my-comment-commenter"},[e(f.Z,{attrs:{color:"#AEBDCA"},on:{click:t.addComment}},[t._v("등록")])],1),e(v.Z,{staticClass:"mb-0 mr-5 ml-11",attrs:{width:"100%",color:"#f5efe6",flat:""}},[e("div",{staticClass:"my-text mb-0 ma-3"},[e(F.Z,{ref:"form",attrs:{"lazy-validation":""}},[e(Ht.Z,{staticClass:"mb-0",attrs:{outlined:"","background-color":"white",label:"댓글을 입력해 주세요.",rules:t.newComment_rule},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1)],1)])],1)],2)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2Title:t.btn2Title,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1)),e("br"),t._v(t._s(t.content2))])]},proxy:!0}])})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.createMailDialog,callback:function(e){t.createMailDialog=e},expression:"createMailDialog"}},[e("create-mail-dialog",{attrs:{receiverFixed:!0,receiver:t.requestRecipe.nickname},on:{hide:t.hideMailCreate}})],1),e(k.Z,{attrs:{"max-width":"400"},model:{value:t.reportDialog,callback:function(e){t.reportDialog=e},expression:"reportDialog"}},[e("report-dialog",{attrs:{postType:t.reportType,postID:t.reportID},on:{hide:t.hideReportDialog}})],1)],1)},ji=[],qi={components:{PopupDialog:R,ReportDialog:we,CreateMailDialog:Le,dropdown:Mt.Z},data(){return{popupDialog:!1,reportDialog:!1,createMailDialog:!1,headerTitle:"",content1:"",content2:"",btn1Title:"",btn2Title:"",btn2:!1,reportType:0,reportID:0,requestRecipe:[],UnExistIngre:[],changeComment:"",changeComment_rule:[t=>!!t||"댓글 내용을 입력하세요."],newComment:"",newComment_rule:[t=>!!t||"댓글 내용을 입력하세요."],isLikedBefore:null,isLikedAfter:null,isMine:null,deletePost:!1,isRecipeDelete:!0,deleteCommentID:-1,editCommentID:-1,recippeType:[{name:"최근 순"},{name:"조회 순"},{name:"좋아요 순"}],recippeTypeObject:{name:"한식"},hotLevel:[{name:"1단계"},{name:"2단계"},{name:"3단계"},{name:"4단계"},{name:"5단계"}],hotLevelObject:{name:"3단계"},hotLevel:4,canDecrease:!1,userNN:""}},mounted(){let t=this.$route.params.id;console.log("post_id",t),null==t&&console.log("ERROR");const e=JSON.parse(localStorage.getItem("UserInfo"));let i=this;i.userNN=e.nickname,Q.recipeLookup(t,i.userNN).then((function(t){console.log("게시글 응답 온거",t),200==t.status&&(console.log("조회 성공"),i.requestRecipe=t.data.recipeInfo,i.isLikedBefore=t.data.likeInfo,i.isLikedAfter=i.isLikedBefore,i.hotLevel=i.requestRecipe["degree_of_spicy"],i.requestRecipe.nickname==i.userNN?i.isMine=!0:i.isMine=!1)})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.requestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.requestFailPopup())})),Q.unExistIngredients(i.userNN,t).then((function(t){if(console.log("test",t.data),console.log("test",t.data.length),200==t.status){console.log("없는 식재료 가져오기 성공");for(let e=0;e<t.data.length;e++)i.UnExistIngre.push(t.data[e].id);0==t.data.length?i.canDecrease=!0:i.canDecrease=!1}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.ingreFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.ingreFailPopup())}))},beforeDestroy(){let t=this;if(t.deletePost)return;if(t.isLikedBefore==t.isLikedAfter)return;let e="";e=t.isLikedBefore?"취소":"등록",console.log(e);const i=JSON.stringify({like_id:0,nickname:t.userNN,postType:1,postId:t.requestRecipe.post_id,task:e});Q.recipeLike(i).then((function(t){200==t.status&&console.log("좋아요 "+e+" 성공")})).catch((function(i){500==i.response.status?(console.log("500 취소 오류"),t.likeFailPopup(e)):501==i.response.status?(console.log("501 등록 오류"),t.likeFailPopup(e)):502==i.response.status&&(console.log("502 Unknown error"),t.likeFailPopup(e))}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},deletePopup(){this.headerTitle="레시피 게시글 삭제",this.content1="삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.isRecipeDelete=!0,this.showDialog()},commentDeletePopup(t){this.deleteCommentID=t,this.headerTitle="댓글 삭제",this.content1="삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.isRecipeDelete=!1,this.showDialog()},deleteFailPopup(){this.headerTitle="레시피 게시글 삭제 실패",this.content1="게시글 삭제에 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},requestFailPopup(){this.headerTitle="게시글 불러오기 실패",this.content1="레시피 게시글을 불러오는데",this.content2="실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},ingreFailPopup(){this.headerTitle="사용자 재료 정보 요청 실패",this.content1="재료 정보 요청에 실패했습니다",this.content2="",this.btn1Title="확인",this.btn2=!1,this.showDialog()},likeFailPopup(t){this.headerTitle="좋아요 "+t+" 실패",this.content1="좋아요 "+t+"에 실패했습니다.",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.showDialog()},checkDialog(){1==this.isRecipeDelete?this.deleteRecipe():this.deleteComment(),this.hideDialog()},deleteRecipe(){let t=this;t.deletePost=!0;const e=JSON.stringify({requestRecipe:requestRecipe});Q.recipeDelete(e).then((function(t){200==t.status&&(console.log("삭제 성공"),qs.push({name:"recipe"}))})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.deleteFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.deleteFailPopup())}))},deleteComment(){let t=this;const e=JSON.stringify({comment_id:t.deleteCommentID,nickname:t.userNN});Q.commentDelete(e).then((function(e){console.log("응답 정보",e),200==e.status&&(console.log("댓글 삭제 성공"),t.$router.go())}))},showReportDialog(){this.reportDialog=!0},hideReportDialog(){this.reportDialog=!1},reportRecipe(){let t=this;t.reportType=1,t.reportID=t.requestRecipe.post_id,t.showReportDialog()},reportComment(t){let e=this;e.reportType=-1,e.reportID=t,e.showReportDialog()},showMailCreate(){this.createMailDialog=!0},hideMailCreate(){this.createMailDialog=!1},likeRecipe(){this.isLikedAfter=!this.isLikedAfter,this.isLikedAfter?++this.requestRecipe.like_count:--this.requestRecipe.like_count},unExistIngredients(){Q.unExistIngredients(vm.userNN,pid).then((function(t){if(console.log("test",t.data),console.log("test",t.data.length),200==t.status){console.log("없는 식재료 가져오기 성공");for(let e=0;e<t.data.length;e++)vm.UnExistIngre.push(t.data[e].id);0==t.data.length?vm.canDecrease=!0:vm.canDecrease=!1}})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),vm.ingreFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),vm.ingreFailPopup())}))},remainAmmounts(){let t=this;Q.decreaseAmount(t.userNN,t.requestRecipe.post_id).then((function(e){200==e.status&&(console.log("남은 재료 계산하기 성공"),t.unExistIngredients())}))},methodToRunOnSelect(t){this.object=t},addComment(){const t=this.$refs.form.validate();if(!t)return;console.log("유효성검사 통과");let e=this;const i=JSON.stringify({comment_id:0,comments:e.newComment,comment_time:0,nickname:e.userNN,post_id:e.requestRecipe.post_id});Q.commentAdd(i).then((function(t){console.log("응답 정보",t),200==t.status&&(console.log("댓글 등록 성공"),e.$router.go())}))},toEditComment(t){this.editCommentID=t.comment_id,this.changeComment=t.comments},editComment(){let t=this;const e=JSON.stringify({comment_id:t.editCommentID,comments:t.changeComment,comment_time:0,nickname:t.userNN,post_id:t.requestRecipe.post_id});Q.commentEdit(e).then((function(t){console.log("응답 정보",t),200==t.status&&(console.log("댓글 수정 성공"),qs.go())}))},menuButtonOnClickMethod(){let t=document.querySelector(".menu-container"),e=document.querySelector(".mail-btn"),i=document.querySelector(".report-btn"),s=document.querySelector(".delete-btn"),o=document.querySelector(".edit-btn");t.classList.contains("visible")?(console.log("visible 있음"),t.classList.remove("visible"),s.classList.remove("visible"),e.classList.remove("visible"),i.classList.remove("visible"),o.classList.remove("visible")):(this.isMine?(s.classList.add("visible"),o.classList.add("visible")):(e.classList.add("visible"),i.classList.add("visible")),console.log("visible 없음"),t.classList.add("visible"))},mailButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("쪽지 버튼 누름!"),t.classList.remove("visible"),this.showMailCreate()},reportButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("신고 버튼 누름!"),t.classList.remove("visible"),this.reportRecipe()},deleteButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("삭제 버튼 누름!"),t.classList.remove("visible"),this.deletePopup()},editButtonOnClickMethod(){let t=document.querySelector(".menu-container");console.log("삭제 버튼 누름!"),t.classList.remove("visible"),qs.push({path:"/recipe/edit/"+this.$route.params.id})}}},Ni=qi,Ei=(0,u.Z)(Ni,Ai,ji,!1,null,"dc0692bc",null),Oi=Ei.exports,Fi=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"calc(100vh - 120px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("내가 올린 사진")])]),t.isExist?t._e():e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-10",staticStyle:{"text-align":"center","font-size":"1.2em"}},[t._v(" 작성한 요리 사진 게시글이 없습니다. ")])])],1),t.isExist?e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"8"}},t._l(t.photo,(function(i){return e(v.Z,{key:i.post_id,staticClass:"my-10",attrs:{height:"400"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e(Z.Z,[e(_.Z,{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"pl-5"},[e(T.EB,[t._v(t._s(i.nickname))]),e(T.Qq,[t._v(t._s(i.upload_time.split(/[T]/)[0]))])],1),e("div",[e(ut.Z,{staticClass:"pa-6",attrs:{large:""}},[t._v(" mdi-thumb-up-outline ")]),e("span",{staticClass:"pr-6 like-count"},[t._v(t._s(i.like_count))])],1)])],1),e("div",{staticClass:"mx-6 mt-3"},[e(y.Z,{attrs:{"max-height":"250",contain:"",src:"data:image/jpeg;base64,"+i.photo_link}})],1)],1)})),1)],1):t._e()],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},Mi=[],Ui={components:{PopupDialog:R},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,photo:[],photoID:null,isExist:!0}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));Q.myphotosLookup(e.nickname).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공");for(let i=0;null!=e.data[i];i++)t.photo.push(e.data[i]);console.log("reponse 길이: "+e.data.length),0==e.data.length&&(t.isExist=!1)}})).catch((function(e){404==e.response.status?(console.log("404 DB 오류"),t.requestFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="사진 요청 실패",this.content1="사진 게시글 요청에 실패했습니다.",this.showDialog()},toLookup(t){qs.push({path:"/mypage/mypagephotolookup/"+t})}}},zi=Ui,$i=(0,u.Z)(zi,Fi,Mi,!1,null,null,null),Ji=$i.exports,Wi=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{"min-height":"calc(100vh - 120px)",color:"#f5efe6"}},[e("div",{staticClass:"recipe-top d-flex justify-space-between align-center pa-5"},[e("span",{staticStyle:{color:"#7895B2","font-weight":"900","font-size":"1.3em"}},[t._v("좋아요 누른 사진")])]),t.isExist?t._e():e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"12"}},[e("p",{staticClass:"mt-10",staticStyle:{"text-align":"center","font-size":"1.2em"}},[t._v(" 좋아요를 누른 요리 사진 게시글이 없습니다. ")])])],1),t.isExist?e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"8"}},t._l(t.photo,(function(i){return e(v.Z,{key:i.post_id,staticClass:"my-10",attrs:{height:"400"},on:{click:function(e){return t.toLookup(i.post_id)}}},[e(Z.Z,[e(_.Z,{staticClass:"d-flex justify-space-between"},[e("div",{staticClass:"pl-5"},[e(T.EB,[t._v(t._s(i.nickname))]),e(T.Qq,[t._v(t._s(i.upload_time.split(/[T]/)[0]))])],1),e("div",[e(ut.Z,{staticClass:"pa-6",attrs:{large:""}},[t._v(" mdi-thumb-up-outline ")]),e("span",{staticClass:"pr-6 like-count"},[t._v(t._s(i.like_count))])],1)])],1),e("div",{staticClass:"mx-6 mt-3"},[e(y.Z,{attrs:{"max-height":"250",contain:"",src:"data:image/jpeg;base64,"+i.photo_link}})],1)],1)})),1)],1):t._e()],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2:t.btn2},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1)],1)},Qi=[],Vi={components:{PopupDialog:R},data(){return{popupDialog:!1,headerTitle:"",content1:"",btn1Title:"확인",btn2:!1,photo:[],photoID:null,isExist:!0}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));Q.mylikeposts(e.nickname,2).then((function(e){if(console.log("응답 온거",e),200==e.status){console.log("조회 성공");for(let i=0;null!=e.data[i];i++)t.photo.push(e.data[i]);console.log("reponse 길이: "+e.data.length),0==e.data.length&&(t.isExist=!1)}})).catch((function(e){405==e.response.status?(console.log("405 DB 오류"),t.requestFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},requestFailPopup(){this.headerTitle="정보 요청 실패",this.content1="정보 요청에 실패했습니다.",this.showDialog()},toLookup(t){qs.push({path:"/mypage/mypagephotolookup/"+t})}}},Ki=Vi,Yi=(0,u.Z)(Ki,Wi,Qi,!1,null,null,null),Gi=Yi.exports,Hi=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{attrs:{height:"md-800 xl-1000",color:"#f5efe6"}},[e(f.Z,{staticClass:"ml-5 mt-5",attrs:{text:""},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" - 뒤로가기")]),e(Z.Z,[e(_.Z,[e(v.Z,{staticClass:"mt-10",attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(Z.Z,[e(_.Z,{staticClass:"py-0 my-0",attrs:{cols:"3"}},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{staticStyle:{color:"#7895B2"},attrs:{"primary-title":""}},[t._v(" 작성자 ")])],1)],1),e(_.Z,{staticClass:"py-0 my-0"},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" "+t._s(t.requestPhoto.nickname)+" ")])],1)],1)],1),e(Z.Z,[e(_.Z,{staticClass:"py-0 my-0",attrs:{cols:"3"}},[e(v.Z,{staticStyle:{color:"#7895B2"},attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,[t._v(" 작성일 ")])],1)],1),e(_.Z,{staticClass:"py-0 my-0"},[e(v.Z,{attrs:{"fill-height":"",color:"#f5efe6",flat:""}},[e(T.EB,{attrs:{"primary-title":""}},[t._v(" "+t._s(t.requestPhoto.upload_time.split(/[T]/)[0])+" ")])],1)],1)],1)],1)],1)],1),e(Z.Z,[e(_.Z,{attrs:{offset:"2",cols:"8"}},[e(y.Z,{attrs:{"max-height":"250",contain:"",src:"data:image/jpeg;base64,"+t.requestPhoto.photo_link}})],1),e(_.Z,{staticClass:"d-flex align-end",attrs:{cols:"2"}},[e(Z.Z,{attrs:{justify:"start"}},[e("div",{staticClass:".buttons"},[t.isMine?e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.deletePopup}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-delete-outline")]),e("div",[t._v("삭제")])],1):t._e(),e(v.Z,{attrs:{height:"20",color:"#f5efe6",flat:""}}),t.isMine?t._e():e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.showMailCreate}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-email-arrow-right-outline")]),e("div",[t._v("쪽지")])],1),e(v.Z,{attrs:{height:"20",color:"#f5efe6",flat:""}}),t.isMine?t._e():e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.showReportDialog}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-alert-octagon")]),e("div",[t._v("신고")])],1)],1)])],1)],1),e(Z.Z,{attrs:{justify:"center"}},[e(v.Z,{attrs:{color:"#f5efe6",height:"50",flat:""}},[e(f.Z,{attrs:{icon:"","x-large":""},on:{click:t.likePhoto}},[e(ut.Z,{attrs:{"x-large":""}},[t._v("mdi-thumb-up-outline")]),t.isLikedAfter?t._e():e("div",[t._v("좋아요")]),t.isLikedAfter?e("div",[t._v("좋아요 취소")]):t._e()],1)],1)],1),e(Z.Z,{staticClass:"mt-10 thumbs",attrs:{justify:"center"}},[t._v(" 좋아요 수 "+t._s(t.requestPhoto.like_count)+" ")])],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2Title:t.btn2Title,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1)),e("br"),t._v(t._s(t.content2))])]},proxy:!0}])})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.createMailDialog,callback:function(e){t.createMailDialog=e},expression:"createMailDialog"}},[e("create-mail-dialog",{attrs:{receiverFixed:!0,receiver:t.requestPhoto.nickname},on:{hide:t.hideMailCreate}})],1),e(k.Z,{attrs:{"max-width":"400"},model:{value:t.reportDialog,callback:function(e){t.reportDialog=e},expression:"reportDialog"}},[e("report-dialog",{attrs:{postType:2,postID:t.requestPhoto.post_id},on:{hide:t.hideReportDialog}})],1)],1)},Xi=[],ts={components:{PopupDialog:R,ReportDialog:we,CreateMailDialog:Le},data(){return{popupDialog:!1,reportDialog:!1,createMailDialog:!1,headerTitle:"",content1:"",content2:"",btn1Title:"",btn2Title:"",btn2:!1,requestPhoto:[],isLikedBefore:null,isLikedAfter:null,isMine:null,deletePost:!1}},mounted(){let t=this.$route.params.id;console.log("post_id",t),null==t&&console.log("ERROR");const e=JSON.parse(localStorage.getItem("UserInfo"));let i=this;Q.photoLookup(t,e.nickname).then((function(t){console.log("응답 온거",t),200==t.status&&(console.log("조회 성공"),i.requestPhoto=t.data.photoInfo,i.isLikedBefore=t.data.likeInfo,i.isLikedAfter=i.isLikedBefore,i.requestPhoto.nickname==e.nickname?i.isMine=!0:i.isMine=!1)})).catch((function(t){500==t.response.status?(console.log("500 DB 오류"),i.requestFailPopup()):502==t.response.status&&(console.log("502 Unknown error"),i.requestFailPopup())}))},beforeDestroy(){let t=this;if(t.deletePost)return;if(t.isLikedBefore==t.isLikedAfter)return;const e=JSON.parse(localStorage.getItem("UserInfo"));let i="";i=t.isLikedBefore?"취소":"등록",console.log(i);const s=JSON.stringify({like_id:0,nickname:e.nickname,postType:2,postId:t.requestPhoto.post_id,task:i});Q.photoLike(s).then((function(t){200==t.status&&console.log("좋아요 "+i+" 성공")})).catch((function(e){500==e.response.status?(console.log("500 취소 오류"),t.likeFailPopup(i)):501==e.response.status?(console.log("501 등록 오류"),t.likeFailPopup(i)):502==e.response.status&&(console.log("502 Unknown error"),t.likeFailPopup(i))}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},deletePopup(){this.headerTitle="요리 사진 게시글 삭제",this.content1="삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.showDialog()},deleteFailPopup(){this.headerTitle="요리 사진 게시글 삭제 실패",this.content1="게시글 삭제에 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},requestFailPopup(){this.headerTitle="게시글 불러오기 실패",this.content1="사진 게시글을 불러오는데",this.content2="실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},likeFailPopup(t){this.headerTitle="좋아요 "+t+" 실패",this.content1="좋아요 "+t+"에 실패했습니다.",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.showDialog()},checkDialog(){this.deletePhoto(),this.hideDialog()},deletePhoto(){let t=this;t.deletePost=!0;const e={post_id:t.requestPhoto.post_id,photo_link:"",like_count:0,upload_time:"",nickname:t.requestPhoto.nickname};Q.photoDelete(e).then((function(t){200==t.status&&qs.push({name:"photo"})})).catch((function(e){500==e.response.status?(console.log("500 DB 오류"),t.deleteFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.deleteFailPopup())}))},showReportDialog(){this.reportDialog=!0},hideReportDialog(){this.reportDialog=!1},showMailCreate(){this.createMailDialog=!0},hideMailCreate(){this.createMailDialog=!1},likePhoto(){this.isLikedAfter=!this.isLikedAfter,this.isLikedAfter?++this.requestPhoto.like_count:--this.requestPhoto.like_count}}},es=ts,is=(0,u.Z)(es,Hi,Xi,!1,null,null,null),ss=is.exports,os=function(){var t=this,e=t._self._c;return e(O.Z,[e(ci.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"8"}},[e(v.Z,{attrs:{"min-height":"800",color:"#f5efe6"}},[e(T.EB,{staticClass:"pt-16 pl-16 pb-10",attrs:{id:"title1"}},[t._v(" 냉장고 ")]),e(ci.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"10"}},[e(v.Z,{staticClass:"mb-5"},[e(Z.Z,{attrs:{justify:"space-between"}},[e(T.EB,{staticClass:"pl-10",attrs:{id:"title2"}},[t._v(" 보유 재료 ")]),e(f.Z,{staticClass:"mt-4 mr-10",attrs:{color:"#7895b2",dark:""},on:{click:t.showAddIngredientDialog}},[t._v("재료추가")])],1),t.isEmpty?e(T.ZB,[t._v("보유 재료가 없습니다.")]):t._e(),t.isEmpty?t._e():e(T.ZB,t._l(t.refrigerators,(function(i){return e("div",{key:i.id,staticClass:"ingre-card"},[i.expireDate>7&&null!=i.expireDate?e("div",{staticClass:"ingre-green"},[e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"ml-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.name))]),e("span",{staticClass:"mr-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.amount)+t._s(i.unit))])]),e(b.Z),e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"ml-3",staticStyle:{"font-size":"1.2em"}},[t._v(t._s(i.expiry_date))]),e("div",{staticClass:"mr-3"},[e(f.Z,{staticClass:"my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.beforeEdit(i)}}},[t._v("수정하기")]),e(f.Z,{staticClass:"ml-3 my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.deletePopup(i.id)}}},[t._v("삭제하기")])],1)])],1):t._e(),i.expireDate>3&&i.expireDate<=7&&null!=i.expireDate?e("div",{staticClass:"ingre-yellow"},[e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"ml-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.name))]),e("span",{staticClass:"mr-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.amount)+t._s(i.unit))])]),e(b.Z),e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"ml-3",staticStyle:{"font-size":"1.2em"}},[t._v(t._s(i.expiry_date))]),e("div",{staticClass:"mr-3"},[e(f.Z,{staticClass:"my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.beforeEdit(i)}}},[t._v("수정하기")]),e(f.Z,{staticClass:"ml-3 my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.deletePopup(i.id)}}},[t._v("삭제하기")])],1)])],1):t._e(),i.expireDate>=0&&i.expireDate<=3&&null!=i.expireDate?e("div",{staticClass:"ingre-red"},[e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"ml-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.name))]),e("span",{staticClass:"mr-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.amount)+t._s(i.unit))])]),e(b.Z),e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"ml-3",staticStyle:{"font-size":"1.2em"}},[t._v(t._s(i.expiry_date))]),e("div",{staticClass:"mr-3"},[e(f.Z,{staticClass:"my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.beforeEdit(i)}}},[t._v("수정하기")]),e(f.Z,{staticClass:"ml-3 my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.deletePopup(i.id)}}},[t._v("삭제하기")])],1)])],1):t._e(),i.expireDate<0&&null!=i.expireDate?e("div",{staticClass:"ingre-black"},[e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"ml-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.name))]),e("span",{staticClass:"mr-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.amount)+t._s(i.unit))])]),e(b.Z),e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"ml-3",staticStyle:{"font-size":"1.2em"}},[t._v(t._s(i.expiry_date))]),e("div",{staticClass:"mr-3"},[e(f.Z,{staticClass:"my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.beforeEdit(i)}}},[t._v("수정하기")]),e(f.Z,{staticClass:"ml-3 my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.deletePopup(i.id)}}},[t._v("삭제하기")])],1)])],1):t._e(),null==i.expireDate?e("div",[e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"ml-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.name))]),e("span",{staticClass:"mr-3 my-2",staticStyle:{"font-size":"1.8em"}},[t._v(t._s(i.amount)+t._s(i.unit))])]),e(b.Z),e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"ml-3",staticStyle:{"font-size":"1.2em"}},[t._v(t._s(i.expiry_date))]),e("div",{staticClass:"mr-3"},[e(f.Z,{staticClass:"my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.beforeEdit(i)}}},[t._v("수정하기")]),e(f.Z,{staticClass:"ml-3 my-2",attrs:{small:"",color:"#AEBDCA"},on:{click:function(e){return t.deletePopup(i.id)}}},[t._v("삭제하기")])],1)])],1):t._e()])})),0)],1)],1)],1)],1)],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:t.btn1Title,btn2Title:t.btn2Title,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.deleteIngre},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(t._s(t.content1))])]},proxy:!0}])})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.addIngredientDialog,callback:function(e){t.addIngredientDialog=e},expression:"addIngredientDialog"}},[e("add-ingredient-dialog",{attrs:{isRecipe:!0},on:{add:t.add,update:t.update,hide:t.hideAddIngredientDialog}})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.editIngredientDialog,callback:function(e){t.editIngredientDialog=e},expression:"editIngredientDialog"}},[e("edit-ingredient-dialog",{attrs:{idP:t.id,nameP:t.name,amountP:t.amount,unitP:t.unit},on:{update:t.update,hide:t.hideEditIngredientDialog}})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},ns=[],as={components:{PopupDialog:R,AddIngredientDialog:re,EditIngredientDialog:he},data(){return{snackbar:!1,snackbarContents:"",popupDialog:!1,headerTitle:"",content1:"",btn1Title:"",btn2Title:"",btn2:!1,id:-1,name:"",amount:-1,unit:"",addIngredientDialog:!1,editIngredientDialog:!1,refrigerators:[],isEmpty:!1,todayDate:null}},mounted(){const t=JSON.parse(localStorage.getItem("UserInfo"));let e=this,i=new Date;console.log(i),Q.refrigeratorLookup(t.nickname).then((function(t){if(console.log("응답 온거",t),200==t.status){console.log("조회 성공");for(let o=0;null!=t.data[o];o++){if(null!=t.data[o].expiry_date){var s=new Date(t.data[o].expiry_date);t.data[o].expireDate=Math.ceil((s-i)/864e5)}else t.data[o].expireDate=null;e.refrigerators.push(t.data[o])}}})).catch((function(t){401==t.response.status?(console.log("조회 실패"),e.requestFailPopup()):404==t.response.status?(console.log("404 식재료 없음"),e.isEmpty=!0):500==t.response.status&&(console.log("500 Unknown error"),e.requestFailPopup())}))},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},deletePopup(t){this.headerTitle="재료 삭제",this.content1="해당 식재료를 삭제하시겠습니까?",this.btn1Title="취소",this.btn2Title="삭제",this.btn2=!0,this.id=t,this.showDialog()},deleteFailPopup(){this.headerTitle="삭제 실패",this.content1="삭제 요청에 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},requestFailPopup(){this.headerTitle="서버 오류",this.content1="보유 재료 조회에 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},addRequestFailPopup(){this.headerTitle="요청 실패",this.content1="재료 추가 요청에 실패했습니다.",this.btn1Title="확인",this.btn2=!1,this.showDialog()},deleteIngre(){let t=this;const e=JSON.stringify({id:this.id});Q.refrigeratorDelete(e).then((function(e){console.log("응답 온거",e),200==e.status&&(console.log("삭제 성공"),t.$router.go())})).catch((function(e){406==e.response.status?(console.log("406 삭제 실패"),t.deleteFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.deleteFailPopup())}))},showAddIngredientDialog(){this.addIngredientDialog=!0},hideAddIngredientDialog(){this.addIngredientDialog=!1},add(t){let e=this;var i=this.refrigerators.findIndex((e=>e.name===t.name));if(-1!=i)return e.snackbarContents="이미 추가한 재료입니다.",void(e.snackbar=!0);const s=JSON.stringify(t);console.log(s),Q.refrigeratorAdd(s).then((function(t){console.log("response",t),200==t.status&&(console.log("성공 응답",t.data),e.$router.go())})).catch((function(t){400==t.response.status?(console.log("400 error"),e.addRequestFailPopup()):500==t.response.status&&(console.log("500 Unknown error"),e.addRequestFailPopup())}))},showEditIngredientDialog(){this.editIngredientDialog=!0},hideEditIngredientDialog(){this.editIngredientDialog=!1},beforeEdit(t){this.id=t.id,this.name=t.name,this.amount=t.amount,this.unit=t.unit,this.showEditIngredientDialog()},update(){this.$router.go()}}},ls=as,rs=(0,u.Z)(ls,os,ns,!1,null,null,null),cs=rs.exports,ps=function(){var t=this,e=t._self._c;return e(O.Z,[e(ci.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"8"}},[e(v.Z,{attrs:{color:"#f5efe6",height:"800"}},[e(v.Z,{attrs:{color:"#f5efe6",height:"100",flat:""}}),e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"md-6 xl-4","align-content":"center"}},[e(v.Z,{attrs:{color:"#fefefe",height:"600",rounded:"xl"}},[e(T.EB,{staticClass:"justify-center"},[t._v("닉네임 변경")]),e(T.EB,{staticClass:"pl-15"},[t._v("현재 닉네임")]),e(T.EB,{staticClass:"justify-center pb-15"},[t._v(t._s(t.nickname))]),e(T.EB,{staticClass:"pt-15 pl-15"},[t._v("새로운 닉네임")]),e(_.Z,{attrs:{offset:"2",cols:"8"}},[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(U.Z,{staticClass:"pb-10",attrs:{filled:"",label:"새 닉네임",rules:t.nn_rule,placeholder:"새로운 닉네임 입력."},model:{value:t.user.nickname,callback:function(e){t.$set(t.user,"nickname",e)},expression:"user.nickname"}})],1)],1),e(Z.Z,{attrs:{justify:"center"}},[e(T.h7,[e(f.Z,{attrs:{outlined:"",width:"120",to:"/mypage"}},[t._v("취소")])],1),e(T.h7,[e(f.Z,{attrs:{outlined:"",width:"120"},on:{click:function(e){return t.NNchange()}}},[t._v("확인")])],1)],1)],1)],1)],1)],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(" "+t._s(t.content1)+" ")]),""!=t.content2?e("div",[t._v(" "+t._s(t.content2)+" ")]):t._e()]},proxy:!0}])})],1)],1)},us=[],ds={components:{PopupDialog:R},data(){return{valid:!0,popupDialog:!1,headerTitle:"",content1:"",content2:"",user:{email:"",id:"",nickname:"",pw:"",pwcheck:"",al:""},nickname:"",nn_rule:[t=>!!t||"새로운 닉네임을 입력하세요."]}},created(){const t=JSON.parse(localStorage.getItem("UserInfo"));this.nickname=t.nickname,this.user.id=t.uid,this.user.pw=t.password,this.user.email=t.email,this.user.al=t.auto_login},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},changeFailPopup(){this.headerTitle="서버 오류",this.content1="닉네임 변경에 실패했습니다.",this.content2="재시도 해주십시오.",this.showDialog()},sameNickPopup(){this.headerTitle="닉네임 중복",this.content1="중복된 닉네임입니다.",this.content2="",this.showDialog()},NNchange(){let t=this;const e=this.$refs.form.validate();if(!e)return t.headerTitle="입력",t.content1="새로운 닉네임을 입력해주세요.",void t.showDialog();const i=JSON.stringify({nickname:this.user.nickname,uid:this.user.id,password:this.user.pw,email:this.user.email,auto_login:this.user.al});Q.changeNN(i).then((function(t){console.log("nnChange",t),200==t.status&&(console.log("닉넴변경 성공"),localStorage.setItem("UserInfo",i),qs.push({name:"mypage"}))})).catch((function(e){400==e.response.status?(console.log("400 닉네임 중복 error"),t.sameNickPopup()):500==e.response.status?(console.log("500 닉네임 변경 실패 or DB오류"),t.changeFailPopup()):502==e.response.status&&(console.log("502 Unknown error"),t.changeFailPopup())}))}}},ms=ds,hs=(0,u.Z)(ms,ps,us,!1,null,null,null),gs=hs.exports,fs=function(){var t=this,e=t._self._c;return e(O.Z,[e(ci.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{attrs:{cols:"8"}},[e(v.Z,{attrs:{color:"#f5efe6",height:"800"}},[e(v.Z,{attrs:{color:"#f5efe6",height:"200",flat:""}}),e(ci.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-4 col-md-6"},[e(v.Z,{attrs:{color:"#fefefe",height:"400",rounded:"xl"}},[e(T.EB,{staticClass:"pa-10 justify-center fontsize",attrs:{id:"title"}},[t._v("비밀번호 변경")]),e(_.Z,[e(F.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(U.Z,{attrs:{filled:"",label:"새 비밀번호",rules:t.pw_rule,type:"password",placeholder:"새로운 비밀번호 입력.",required:""},model:{value:t.user.pw,callback:function(e){t.$set(t.user,"pw",e)},expression:"user.pw"}}),e(U.Z,{attrs:{filled:"",label:"비밀번호 확인",rules:t.pwch_rule,type:"password",placeholder:"비밀번호 확인.",required:""},model:{value:t.user.pwcheck,callback:function(e){t.$set(t.user,"pwcheck",e)},expression:"user.pwcheck"}})],1)],1),e(_.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(T.h7,[e(f.Z,{attrs:{outlined:"",width:"100",to:"/mypage"}},[t._v("취소")])],1),e(T.h7,[e(f.Z,{attrs:{outlined:"",width:"100"},on:{click:function(e){return t.PWchange()}}},[t._v("변경")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.headerTitle,btn1Title:"확인",btn2:!1},on:{hide:t.hideDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(" "+t._s(t.content1)+" ")])]},proxy:!0}])})],1),e(M.Z,{attrs:{timeout:"3000"},scopedSlots:t._u([{key:"action",fn:function({attrs:i}){return[e(f.Z,t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarContents)+" ")])],1)},vs=[],_s={components:{PopupDialog:R},data(){return{valid:!0,popupDialog:!1,headerTitle:"",content1:"",snackbar:!1,snackbarContents:"",user:{email:"",id:"",nickname:"",pw:"",pwcheck:"",al:""},nickname:"",pw_rule:[t=>!!t||"새로운 비밀번호를 입력하세요.",t=>!(t&&t.length<6)||"비밀번호는 6자 이상이여야 합니다.",t=>/^[a-z0-9!?@<>]*$/.test(t)||"비밀번호는 영어 소문자, 숫자, 특수문자(!, ?, @, <, >)만 사용 가능합니다.",t=>/^.*[a-z]+.*$/.test(t)||"비밀번호에는 영어 소문자가 포함되어야 합니다.",t=>/^.*[0-9]+.*$/.test(t)||"비밀번호에는 숫자가 포함되어야 합니다.",t=>/^.*[!?@<>]+.*$/.test(t)||"비밀번호에는 특수문자(!, ?, @, <, >)가 포함되어야 합니다."],pwch_rule:[t=>!!t||"비밀번호 확인을 입력하세요.",t=>t===this.user.pw||"비밀번호가 일치하지 않습니다."]}},created(){const t=JSON.parse(localStorage.getItem("UserInfo"));this.nickname=t.nickname,this.user.id=t.uid,this.user.email=t.email,this.user.al=t.auto_login},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},PWchange(){const t=this,e=this.$refs.form.validate();if(!e)return t.headerTitle="양식 오류",t.content1="양식에 맞지않은 비밀번호입니다.",void t.showDialog();let i=this.hashing(t.user.pw);const s=JSON.stringify({nickname:this.nickname,uid:this.user.id,password:i,email:this.user.email,auto_login:this.user.al});console.log(s),Q.changePW(s).then((function(t){console.log("pwChange",t),200==t.status&&(console.log("비번변경 성공"),localStorage.setItem("UserInfo",s),qs.push({name:"mypage"}))})).catch((function(e){500==e.response.status?(console.log("500 비밀번호 변경 실패"),t.snackbarContents="DB 오류로 비밀번호 변경 요청에 실패했습니다.",t.snackbar=!0):502==e.response.status&&(console.log("502 Unknown error"),t.snackbarContents="알 수 없는 오류로 비밀번호 변경 요청에 실패했습니다.",t.snackbar=!0)}))},hashing(t){var e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(Number(t.charCodeAt(i))+1);return e},rhashing(t){var e="";for(let i=0;i<t.length;i++)e+=String.fromCharCode(Number(t.charCodeAt(i))-1);return e}}},ks=_s,bs=(0,u.Z)(ks,fs,vs,!1,null,null,null),ys=bs.exports,Zs=function(){var t=this,e=t._self._c;return e(O.Z,[e(Z.Z,{attrs:{justify:"center"}},[e(_.Z,{staticClass:"col-xl-8 col-md-10"},[e(v.Z,{staticClass:"pa-4",attrs:{"min-height":"800",color:"#f5efe6"}},[e("div",{staticClass:"mailbox-title px-16 py-10"},[t._v(" 쪽지함 ")]),t._l(t.mails,(function(i,s){return e(v.Z,{key:i.mail_id,staticClass:"my-5 mx-16",attrs:{"min-height":"100",color:"#fefefe"},on:{click:function(e){return t.showMailLookup(s)}}},[e(T.EB,{staticClass:"mb-0",attrs:{"primary-title":""}},[t._v(" "+t._s(i.title)+" ")]),e("div",{staticClass:"d-flex align-top justify-space-between mx-4"},[e("span",[t._v("보낸사람:"+t._s(i.nickname))]),e("span",[t._v("받는사람:"+t._s(i.receiver))]),e("span",[t._v(t._s(i.send_time.split(/[T]/)[0]))])])],1)}))],2),e(f.Z,{staticClass:"write-btn",attrs:{fab:"","x-large":"",color:"#E8DFCA"},on:{click:function(e){return t.showMailCreate()}}},[e(ut.Z,{attrs:{color:"#7895B2"}},[t._v("mdi-plus")])],1)],1)],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.lookupMailDialog,callback:function(e){t.lookupMailDialog=e},expression:"lookupMailDialog"}},[e("lookup-mail-dialog",{attrs:{mailTitle:t.openMail.title,mailID:t.openMail.mail_id,mailSender:t.openMail.nickname,mailReceiver:t.openMail.receiver,sendTime:t.openMail.send_time,mailContents:t.openMail.contents,btn1Title:"확인",btn2:!1},on:{hide:t.hideMailLookup,update:t.updateList}})],1),e(k.Z,{attrs:{"max-width":"500"},model:{value:t.createMailDialog,callback:function(e){t.createMailDialog=e},expression:"createMailDialog"}},[e("create-mail-dialog",{on:{hide:t.hideMailCreate,update:t.updateList}})],1)],1)},Cs=[],xs=function(){var t=this,e=t._self._c;return e(v.Z,[e("div",{staticClass:"d-flex justify-lg-space-between align-start pa-3"},[e(T.EB,[t._v(" "+t._s(t.mailTitle)+" ")]),e("div",{staticClass:"v-flex"},[e("div",{staticClass:"text-start"},[t._v(" 발신자          "+t._s(t.mailSender)+" ")]),e("div",{staticClass:"text-start"},[t._v(" 수신자          "+t._s(t.mailReceiver)+" ")]),e("div",{staticClass:"text-start"},[t._v(" 작성시간      "+t._s(t.sendTime.split(/[T]/)[0])+" ")])])],1),e(v.Z,{staticClass:"ma-4"},[e(T.ZB,{staticClass:"text-left"},[t._t("body",(function(){return[t._v(" "+t._s(t.mailContents)+" ")]}))],2)],1),e(T.h7,{staticClass:"justify-center mr-2 pb-4"},[[e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:t.deletePopup}},[t._v(" 삭제하기 ")])],e(f.Z,{attrs:{color:"#7895B2",small:""},on:{click:function(e){return t.$emit("hide")}}},[t._v(" 확인 ")])],2),e(k.Z,{attrs:{"max-width":"300"},model:{value:t.popupDialog,callback:function(e){t.popupDialog=e},expression:"popupDialog"}},[e("popup-dialog",{attrs:{headerTitle:t.titlePopup,btn1Title:t.titleBtn1,btn2Title:t.titleBtn2,btn2:t.btn2},on:{hide:t.hideDialog,submit:t.checkDialog},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",[t._v(" "+t._s(t.content)+" ")])]},proxy:!0}])})],1)],1)},Ds=[],ws={name:"LookupMail",components:{PopupDialog:R},data(){return{popupDialog:!1,titlePopup:"",titleBtn1:"",titleBtn2:"",btn2:!1,content:""}},mounted(){let t=this;null!=t.mailTitle&&null!=t.mailID&&null!=t.mailSender&&null!=t.mailReceiver&&null!=t.mailContents&&null!=t.mailID||t.openFailPopup()},props:{mailTitle:{type:String},mailID:{type:Number},mailSender:{type:String},mailReceiver:{type:String},sendTime:{type:String},mailContents:{type:String}},methods:{showDialog(){this.popupDialog=!0},hideDialog(){this.popupDialog=!1},checkDialog(){this.deleteMail(),this.hideDialog()},openFailPopup(){this.titlePopup="쪽지 조회 실패",this.content="쪽지를 가져오는데 실패했습니다.",this.titleBtn1="확인",this.btn2=!1,this.showDialog()},deleteFailPopup(){this.titlePopup="삭제 실패",this.content="삭제에 실패했습니다.",this.titleBtn1="확인",this.btn2=!1,this.showDialog()},deletePopup(){this.titlePopup="쪽지 삭제",this.content="쪽지를 삭제하시겠습니까?",this.titleBtn1="취소",this.titleBtn2="삭제",this.btn2=!0,this.showDialog()},emitMethod(){this.$emit("update"),this.$emit("hide")},deleteMail(){let t=this;console.log("메일 삭제 로직");const e=JSON.parse(localStorage.getItem("UserInfo")),i=JSON.stringify({mail_id:this.mailID,nickname:e.nickname,receiver:"bye",title:"web test",contents:"web test",send_time:"",sender_check:0,receiver_check:0});Q.mailDelete(i).then((function(e){console.log("응답 정보",e),200==e.status&&(console.log("if 응답 정보",e.data),t.emitMethod())})).catch((function(e){404==e.response.status?(console.log("404 error"),t.deleteFailPopup()):500==e.response.status&&(console.log("500 Unknown error"),t.deleteFailPopup())}))}}},Ts=ws,Ss=(0,u.Z)(Ts,xs,Ds,!1,null,null,null),Ps=Ss.exports,Is={components:{LookupMailDialog:Ps,CreateMailDialog:Le},data(){return{lookupMailDialog:!1,createMailDialog:!1,mails:[],openMail:{},total_page:null}},mounted(){let t=this;const e=JSON.parse(localStorage.getItem("UserInfo"));Q.mailList(e.nickname,1).then((function(e){if(console.log("리스트 응답 온거",e),200==e.status){console.log("조회 성공");for(let i=0;null!=e.data.mailList[i];i++)t.mails.push(e.data.mailList[i]);t.total_page=e.data.total_page}}))},methods:{showMailLookup(t){this.openMail=this.mails[t],this.lookupMailDialog=!0},hideMailLookup(){this.lookupMailDialog=!1},showMailCreate(){this.createMailDialog=!0},hideMailCreate(){this.createMailDialog=!1},updateList(){this.$router.go()}}},Bs=Is,Ls=(0,u.Z)(Bs,Zs,Cs,!1,null,null,null),Rs=Ls.exports;s.ZP.use(l.ZP);const As=[{path:"",component:N,children:[{path:"",name:"home",component:vt},{path:"recipe",component:Zt,children:[{path:"",name:"recipe",component:Gt},{path:"create",name:"createR",component:_e},{path:"lookup/:id",name:"lookupR",component:qe},{path:"edit/:id",name:"editR",component:Ue}]},{path:"photo",component:Tt,children:[{path:"",name:"photo",component:Ve},{path:"create",name:"createP",component:ii},{path:"lookup/:id",name:"lookupP",component:ri}]},{path:"mypage",component:Lt,children:[{path:"",name:"mypage",component:gi},{path:"myrecipe",name:"myrecipe",component:yi},{path:"likedrecipe",name:"likedrecipe",component:Ti},{path:"commentrecipe",name:"commentrecipe",component:Ri},{path:"mypagerecipelookup/:id",name:"LookupMR",component:Oi},{path:"myphoto",name:"myphoto",component:Ji},{path:"likedphoto",name:"likedphoto",component:Gi},{path:"mypagephotolookup/:id",name:"LookupMP",component:ss},{path:"refrigerator",name:"refrigerator",component:cs},{path:"changeNickname",name:"changeNickname",component:gs},{path:"changePassword",name:"changePassword",component:ys}]},{path:"mail",component:Nt,children:[{path:"",name:"mail",component:Rs}]}]},{path:"",component:h,children:[{path:"/login",name:"login",component:G},{path:"/signup",name:"signup",component:st},{path:"/email-auth/:id",name:"email-auth",component:pt}]}],js=new l.ZP({mode:"history",routes:As});var qs=js,Ns={name:"App",data:()=>({}),created(){const t=JSON.parse(localStorage.getItem("UserInfo"));null==t?qs.push({name:"login"}):"true"!=sessionStorage.getItem("running")&&0==t.auto_login&&(localStorage.removeItem("UserInfo"),qs.push({name:"login"}))}},Es=Ns,Os=(0,u.Z)(Es,n,a,!1,null,null,null),Fs=Os.exports,Ms=i(8864);s.ZP.use(Ms.Z);var Us=new Ms.Z({icons:{iconfont:"mdi"}});s.ZP.config.productionTip=!1,new s.ZP({vuetify:Us,router:qs,render:t=>t(Fs)}).$mount("#app")},8714:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAQAAAAm93DmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfmCxgHGgRcuzQZAAACzUlEQVRIx63XT2hcVRTH8c/8S6rTahVspLRKq0KTRVGw1lqwhRahiLEgRVyKIkiQlm4UFyrBhUIhulEUSbULFyKooaVaW7eKxTQodGFKtS0YAiYUmzRiMnNdzJtk3pv3Jplpf28x9577zpcz595z3nvUtcFR14SOrnkfWl3D5CJc2ceedlGvk8bltaOqXrs863ijca/rBh0wp78tWE07zBqoDeux3C84YU6uzejqMYb6sO5eECx0gGpSJ/G0VHGF95X16THtvKs3A7jDmx7TZcGYt33bKXCtvR4WTBpwqyG/uc+Ljhqyxiq/OmWyHWCv9+z2j+Auf3vOafC9L7xrSsVa5xzy00qBd3jfNq87LnjcrDORfdRBm53xn93e8oH9Lq8M+IRdXjMEfo+tnIh+L5jxqWeiexYVPza5xdE2V+OllKLT/rQ9efDi03kV85G9qrIMsKqikDQ2Agt+9rKzYMyd9iwD3GmTUdXsHOZNOxaNv/OLQQtGTKXCbrfHO674slWEVeu9aiOYdNBlHxl2Wwqu5IjPVbxivDWwR7+eaHbWfj/YqpwC7LbVef1ONS/Fc3jOk0YX5xMuLbWlJk24mGZOHptbYpZWvSijczYaKx5x0nY3pEZgsE6fdbH1kDwWqHXoXDqw2OQeYvOSe3QnnIOyVVnZbd0Pg41GUiom525XOgEyY8RsU4RdDmRtWGtg3pQjJhLOwWqPdga87l7fRO2iUQVbfJ26XcsAP7MmtfQYM5zejVoDR72QcTxCZ7vcwjFLN/1BH6+UICzbp9PUsD3FBlzZenlb/LXi94maKnbqagZ2G7JZl0FvtAELgpxupXqui4sLJZscM55V9Bl/9SHP+8S0w0m/AcHhDrL3lDn7POha8oWz4t/oedeeCnIKCkvx1YEXBPuU2gZWUZVfAtZz+KOvHNLnj+zWmYp7QNFLiriUXNxg2MyNf1b8D5fw8we7IlWqAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTExLTI0VDA3OjI1OjM1KzAwOjAwj8WUtQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0xMS0yNFQwNzoyNTozNSswMDowMP6YLAkAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,s,o,n){if(!s){var a=1/0;for(p=0;p<t.length;p++){s=t[p][0],o=t[p][1],n=t[p][2];for(var l=!0,r=0;r<s.length;r++)(!1&n||a>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[r])}))?s.splice(r--,1):(l=!1,n<a&&(a=n));if(l){t.splice(p--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var p=t.length;p>0&&t[p-1][2]>n;p--)t[p]=t[p-1];t[p]=[s,o,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,a=s[0],l=s[1],r=s[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(r)var p=r(i)}for(e&&e(s);c<a.length;c++)n=a[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(p)},s=self["webpackChunkse_project"]=self["webpackChunkse_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(9375)}));s=i.O(s)})();
//# sourceMappingURL=app.3da95cf7.js.map